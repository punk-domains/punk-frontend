var je=Object.defineProperty,Ke=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable;var ke=(e,n,i)=>n in e?je(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,y=(e,n)=>{for(var i in n||(n={}))Je.call(n,i)&&ke(e,i,n[i]);if(ve)for(var i of ve(n))Ye.call(n,i)&&ke(e,i,n[i]);return e},v=(e,n)=>Ke(e,qe(n));import{J as Te,F as Ce,m as g,u as De,a as A,b as X,r as C,c as d,d as t,e as _,w as B,t as m,f as M,g as j,p as D,h as x,o as l,i as h,j as de,k as u,l as ye,n as z,q as H,I as b,C as f,A as N,s as $,v as Ge,T as p,x as F,y as S,z as E,B as K,D as Q,E as ce,G as fe,H as xe,K as ue,L as Xe,M as ze,N as Qe,O as Ze,P as et,Q as tt,V as nt,R as st}from"./vendor.81a4917a.js";const at=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}};at();function q(){function e(a){return a===137?"Polygon":a===10?"Optimism":a===56?"BNB Smart Chain":a===69?"Optimism Testnet":a===77?"Gnosis Testnet":a===100?"Gnosis Chain":a===137?"Polygon":a===42161?"Arbitrum":a===421611?"Arbitrum Testnet":a===80001?"Polygon Testnet":a===3?"Ropsten":a===4?"Rinkeby":"Unsupported Network"}function n(a){let s;if(a===137?s=["https://polygon-rpc.com/","https://polygon-mainnet.g.alchemy.com/v2/MhHJRrodOACSzXhOCCei7bKleeViZXIp"]:a===80001?s=["https://matic-mumbai.chainstacklabs.com","https://polygon-mumbai.g.alchemy.com/v2/SFqYWETLRGd5CmreGkLH8XQNlnSmei0B"]:a===10?s=["https://mainnet.optimism.io","https://opt-mainnet.g.alchemy.com/v2/yHb9HMMjGXFe6_-qyc9vwjtq1cT3cSBJ"]:a===56?s=["https://bscrpc.com"]:a===77?s=["https://sokol.poa.network"]:a===100?s=["https://rpc.xdaichain.com","https://rpc.gnosischain.com"]:a===42161?s=["https://arb1.arbitrum.io/rpc","https://arb-mainnet.g.alchemy.com/v2/F71PRwNWe-1Vt7MLTGosC7Y8qp0gVQPy"]:a===421611&&(s=["https://rinkeby.arbitrum.io/rpc"]),s){const o=s.map(r=>new Te(r));return new Ce(o,1)}else return null}function i(a){let s,o;return a=="Ropsten"?(s="wallet_switchEthereumChain",o=[{chainId:"0x3"}]):a=="Rinkeby"?(s="wallet_switchEthereumChain",o=[{chainId:"0x4"}]):a=="Polygon Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://mumbai.polygonscan.com"],chainId:"0x13881",chainName:"Mumbai Testnet",nativeCurrency:{decimals:18,name:"Matic",symbol:"MATIC"},rpcUrls:["https://matic-mumbai.chainstacklabs.com"]}]):a=="Arbitrum Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://testnet.arbiscan.io"],chainId:"0x66EEB",chainName:"Arbitrum Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://rinkeby.arbitrum.io/rpc"]}]):a=="Arbitrum"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://arbiscan.io"],chainId:"0xA4B1",chainName:"Arbitrum One",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://arb1.arbitrum.io/rpc"]}]):a=="Optimism"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://optimistic.etherscan.io/"],chainId:"0xA",chainName:"Optimism",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://mainnet.optimism.io"]}]):a=="Optimism Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://kovan-optimistic.etherscan.io/"],chainId:"0x45",chainName:"Optimism Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://kovan.optimism.io"]}]):a=="Polygon"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://polygonscan.com"],chainId:"0x89",chainName:"Polygon PoS Chain",nativeCurrency:{decimals:18,name:"MATIC",symbol:"MATIC"},rpcUrls:["https://polygon-rpc.com/"]}]):a=="Gnosis Testnet"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://blockscout.com/poa/sokol"],chainId:"0x4D",chainName:"Gnosis Testnet",nativeCurrency:{decimals:18,name:"SPOA",symbol:"SPOA"},rpcUrls:["https://sokol.poa.network"]}]):a=="Gnosis Chain"?(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://blockscout.com/xdai/mainnet"],chainId:"0x64",chainName:"Gnosis Chain",nativeCurrency:{decimals:18,name:"XDAI",symbol:"XDAI"},rpcUrls:["https://rpc.gnosischain.com"]}]):a=="BNB Smart Chain"&&(s="wallet_addEthereumChain",o=[{blockExplorerUrls:["https://bscscan.com/"],chainId:"0x38",chainName:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:["https://bscrpc.com"]}]),{method:s,params:o}}return{getChainName:e,getFallbackProvider:n,switchNetwork:i}}var it={name:"Navbar",computed:v(y(y({},g("user",["getUserShortAddress","getUserSelectedName"])),g("network",["getNetworkName","getSupportedNetworks","getSupportedNetworkNames"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserShortAddress}}),methods:{changeNetwork(e){const n=this.switchNetwork(e);window.ethereum.request({method:n.method,params:n.params})},logout(){this.disconnect(),localStorage.clear(),localStorage.setItem("connected","null")},openUrl(e){window.open(e,"_blank").focus()}},setup(){const{open:e}=X(),{disconnect:n}=De(),{isActivated:i}=A(),{switchNetwork:a}=q();return{isActivated:i,disconnect:n,open:e,switchNetwork:a}}},Ae="/assets/logo-white-300.7a2f939c.svg";var k=(e,n)=>{for(const[i,a]of n)e[i]=a;return e};const Ne=e=>(D("data-v-c3b857e8"),e=e(),x(),e),ot={class:"navbar sticky-top navbar-expand-lg navbar-dark"},rt={class:"container-fluid"},lt=Ne(()=>t("img",{src:Ae,alt:"",width:"30",class:"d-inline-block navbar-img"},null,-1)),dt=h(" PUNK DOMAINS "),ct=Ne(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),ut={class:"collapse navbar-collapse",id:"navbarSupportedContent"},pt={class:"d-flex ms-auto"},mt={key:0,class:"navbar-menu-buttons"},ht={class:"btn-group mx-2 navbar-menu-btn navbar-other-item"},yt=h("NFT Whitelist"),ft={class:"btn-group mx-2 navbar-menu-btn"},bt={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},gt={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},_t=["onClick"],wt={class:"btn-group mx-2"},vt={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton2","data-bs-toggle":"dropdown","aria-expanded":"false"},kt={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton2"},Tt=h("Profile"),Ct=h("Buy domain"),Dt=h("Search domain"),xt=h("Send tokens"),At=h("Browser extension");function Nt(e,n){const i=C("router-link");return l(),d("nav",ot,[t("div",rt,[_(i,{to:"/",class:"navbar-brand"},{default:B(()=>[lt,dt]),_:1}),ct,t("div",ut,[t("div",pt,[e.isActivated?(l(),d("div",mt,[t("div",ht,[_(i,{tag:"button",class:"btn btn-primary",to:"/nft/angel"},{default:B(()=>[yt]),_:1})]),t("div",ft,[t("button",bt,m(e.getNetworkName),1),t("ul",gt,[t("li",null,[(l(!0),d(M,null,j(e.getSupportedNetworkNames,a=>(l(),d("span",{class:"dropdown-item",key:a,onClick:s=>e.changeNetwork(a)},m(a),9,_t))),128))])])]),t("div",wt,[t("button",vt,m(e.getNameOrAddress),1),t("ul",kt,[_(i,{tag:"li",class:"dropdown-item",to:"/profile"},{default:B(()=>[Tt]),_:1}),_(i,{tag:"li",class:"dropdown-item",to:"/"},{default:B(()=>[Ct]),_:1}),_(i,{tag:"li",class:"dropdown-item",to:"/search-domain"},{default:B(()=>[Dt]),_:1}),_(i,{tag:"li",class:"dropdown-item",to:"/send-tokens"},{default:B(()=>[xt]),_:1}),t("li",{class:"dropdown-item",onClick:n[0]||(n[0]=a=>e.openUrl("http://blog.punk.domains"))},"Blog"),_(i,{tag:"li",class:"dropdown-item",to:"/browser"},{default:B(()=>[At]),_:1}),t("li",{class:"dropdown-item",onClick:n[1]||(n[1]=a=>e.openUrl("http://docs.punk.domains"))},"Docs"),t("li",{class:"dropdown-item",onClick:n[2]||(n[2]=(...a)=>e.logout&&e.logout(...a))},"Disconnect")])])])):(l(),d("button",{key:1,class:"btn btn-primary",onClick:n[3]||(n[3]=(...a)=>e.open&&e.open(...a))},"Connect wallet"))])])])])}var Bt=k(it,[["render",Nt],["__scopeId","data-v-c3b857e8"]]);const St={name:"Footer",computed:y({},g("network",["isNetworkSupported"])),setup(){const{isActivated:e}=A();return{isActivated:e}}},J=e=>(D("data-v-8600de74"),e=e(),x(),e),Et={class:"container-fluid text-center mt-3"},It=h("Profile"),Mt={key:1},Ft=h("About"),Ut=J(()=>t("span",null," | ",-1)),Pt=h("How it works"),Rt=J(()=>t("span",null," | ",-1)),$t=h("L2DAO"),Ot=J(()=>t("span",null," | ",-1)),Lt=h("Huwa"),Ht=J(()=>t("span",null," | ",-1)),Vt=h("Browser extension"),Wt=J(()=>t("span",null," | ",-1)),jt=J(()=>t("a",{target:"_blank",href:"https://blog.punk.domains"},"Blog",-1)),Kt=J(()=>t("span",null," | ",-1)),qt=J(()=>t("a",{target:"_blank",href:"https://github.com/punk-domains/brand-identity"},"Brand identity",-1)),Jt=ye('<div class="container-fluid text-center" data-v-8600de74><a class="icons" href="http://docs.punk.domains" target="_blank" data-v-8600de74><i class="bi bi-journal-text" data-v-8600de74></i></a><a class="icons" target="_blank" href="https://github.com/punk-domains" data-v-8600de74><i class="bi bi-github" data-v-8600de74></i></a><a class="icons" target="_blank" href="https://discord.gg/8dSrwrAQeu" data-v-8600de74><i class="bi bi-discord" data-v-8600de74></i></a><a class="icons" target="_blank" href="https://twitter.com/PunkDomains" data-v-8600de74><i class="bi bi-twitter" data-v-8600de74></i></a><a class="icons" href="http://blog.punk.domains" target="_blank" data-v-8600de74><i class="bi bi-pencil-square" data-v-8600de74></i></a></div>',1);function Yt(e,n,i,a,s,o){const r=C("router-link");return l(),d(M,null,[t("div",Et,[a.isActivated&&e.isNetworkSupported?(l(),de(r,{key:0,to:"/profile"},{default:B(()=>[It]),_:1})):u("",!0),a.isActivated&&e.isNetworkSupported?(l(),d("span",Mt," | ")):u("",!0),_(r,{to:"/about"},{default:B(()=>[Ft]),_:1}),Ut,_(r,{to:"/how"},{default:B(()=>[Pt]),_:1}),Rt,_(r,{to:"/partners/l2dao"},{default:B(()=>[$t]),_:1}),Ot,_(r,{to:"/partners/huwa"},{default:B(()=>[Lt]),_:1}),Ht,_(r,{to:"/browser"},{default:B(()=>[Vt]),_:1}),Wt,jt,Kt,qt]),Jt],64)}var Gt=k(St,[["render",Yt],["__scopeId","data-v-8600de74"]]),P={"10":{".op":"0xC16aCAdf99E4540E6f4E6Da816fd6D2A2C6E1d4F",".l2":"0x9A7657d1593032C75d70950707870c3cC7ca45DC",".wagmi":"0xC3E8922657686EC63eaaa9FC1Fe06826802e7e0f",".optimism":"0xBca24d86e4Ad1e011278FaEFc4fF191a731411EC",".spartan":"0x3490C9817C45A2a394b11A3807f58a8325235aE0"},"56":{".safu":"0xBDACF94dDCAB51c39c2dD50BffEe60Bb8021949a",".huwa":"0xeFBE0b46649B7A0F1e1D49CCa98aD9CF6bcFB096"},"69":{".optitest":"0xAc63b035e63d280c408549f5AFA64be7469470de",".l2test":"0xB5B8AF8199777d471c0320BC11022433df6D100e",".flexiop":"0xaE01D45b16Ca3A47670050934482c32B19e34b87"},"77":{".testdao":"0x110cc3f64cdf8ffadc785dfa53906bcff76b3846"},"100":{".gnosis":"0xC3E8922657686EC63eaaa9FC1Fe06826802e7e0f",".xdai":"0xbca24d86e4ad1e011278faefc4ff191a731411ec",".bright":"0x3490c9817c45a2a394b11a3807f58a8325235ae0"},"137":{".poly":"0x70Ac07C50131b7bb2c8Bd9466D8d2add30B7759f",".ape":"0x794a8390D94E32b086908D2bA9D66300aA163C62",".degen":"0xC4999A3e91ef87c9EC5d8186D02B77F9A62458b9",".web3":"0xb6Cf2874588d0fdFAf9d1b5E254ee6C49110C68B",".klima":"0xe8b97542A433e7eCc7bB791872af04DF02A1a6E4",".polygon":"0xa450bc33d0940d25fB0961c592fb440Fa63ABE03"},"42161":{".arbi":"0xe97456E0fB121F65422F43ccbd4A07a0e269B534",".arbitrum":"0x337EB5061943ECd247649d58D35Dbab0b40D67E0"},"80001":{".testsafu":"0x755F461d6a5854203b9B30C76f680356cC67556D",".newflexi":"0xd3CEdCfAa00de70DB408528351665c55E1fFA603",".freytest":"0x71C60ebce37cd6ee27807D5285b1acf9752e17Ee",".testpoly":"0x4fd04c33E692B967F663B75A1976a1671E93B4dd"},"421611":{".fltestarbi":"0x396E60B4c971b053A2959296646B2eA5DD1f2160",".twbtest":"0xEEAEED736cc6A6e68CC2F62be19Cf7E06ad9E94A",".testhuwa":"0x49651e70df13b8fd5684B0b82b1b3D7Cdc8cF80f",".arbitest":"0xC6a628b1FF1aD4e304bEeACAff915559786deA2e"}},V=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_tldOwner",type:"address"},{internalType:"uint256",name:"_domainPrice",type:"uint256"},{internalType:"bool",name:"_buyingEnabled",type:"bool"},{internalType:"uint256",name:"_royalty",type:"uint256"},{internalType:"address",name:"_factoryAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"DataChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"defaultDomain",type:"string"}],name:"DefaultDomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"string",name:"fullDomainName",type:"string"}],name:"DomainCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"buyingEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_maxLength",type:"uint256"}],name:"changeNameMaxLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_referral",type:"uint256"}],name:"changeReferralPayment",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royalty",type:"uint256"}],name:"changeRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"defaultNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"domainIdsNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"domains",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"string",name:"data",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"string",name:"_data",type:"string"}],name:"editData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"editDefaultDomain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factoryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainData",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainHolder",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFactoryOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nameMaxLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"}],name:"ownerMintDomain",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"referral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"toggleBuyingDomains",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];const Xt={components:{Navbar:Bt,Footer:Gt},created(){this.fetchReferrer(),localStorage.getItem("punkv2")||(localStorage.clear(),localStorage.setItem("connected","null"),localStorage.setItem("punkv2","true"))},computed:y(y({},g("user",["getUserSelectedName"])),g("network",["getFallbackProvider"])),methods:v(y(y(y(y({},z("punk",["fetchTlds"])),z("user",["fetchUserDomainNames"])),H("user",["setUserData"])),H("network",["setNetworkData"])),{fetchAllData(){this.setUserData(),this.setNetworkData(),this.fetchTlds()},async fetchReferrer(){const n=new URLSearchParams(window.location.search).get("ref");if(n&&n.split(".").length===2){const i=n.split(".");for(let a in P)if(P[a]["."+i[1]]){const s=this.getFallbackProvider(Number(a)),o=new b(V),c=await new f(P[a]["."+i[1]],o,s).getDomainHolder(i[0]);c!==N&&localStorage.setItem("referral",c);break}}else n&&$(n)&&localStorage.setItem("referral",n)}}),setup(){const{address:e,chainId:n,isActivated:i}=A(),{connect:a}=De();return Ge(()=>{!i.value&&localStorage.getItem("connected")=="metamask"&&a("metamask")}),{address:e,chainId:n,connect:a,isActivated:i}},watch:{address(e,n){e&&(this.setUserData(),this.fetchUserDomainNames(!0))},chainId(e,n){!this.isActivated&&localStorage.getItem("connected")=="metamask"&&this.connect("metamask"),this.chainId>=1&&(this.fetchAllData(),this.fetchUserDomainNames(!0))},isActivated(e,n){!localStorage.getItem("connected")&&localStorage.getItem("connected")!=="null"&&localStorage.setItem("connected","metamask")}}},zt={class:"main-container"};function Qt(e,n,i,a,s,o){const r=C("Navbar"),c=C("router-view"),w=C("Footer"),R=C("vdapp-board");return l(),d(M,null,[_(r),t("div",zt,[_(c),_(w)]),_(R)],64)}var Zt=k(Xt,[["render",Qt],["__scopeId","data-v-22337957"]]);const en="modulepreload",Be={},tn="/",nn=function(n,i){return!i||i.length===0?n():Promise.all(i.map(a=>{if(a=`${tn}${a}`,a in Be)return;Be[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${o}`))return;const r=document.createElement("link");if(r.rel=s?"stylesheet":en,s||(r.as="script",r.crossOrigin=""),r.href=a,document.head.appendChild(r),s)return new Promise((c,w)=>{r.addEventListener("load",c),r.addEventListener("error",w)})})).then(()=>n())};const sn={name:"About"},Se=e=>(D("data-v-2d97aeb2"),e=e(),x(),e),an={class:"container"},on=Se(()=>t("h1",{class:"text-center"},"About Punk Domains",-1)),rn={class:"row mt-3"},ln={class:"col-md-8 offset-md-2"},dn=ye("<p data-v-2d97aeb2> Punk Domains allows you to <strong data-v-2d97aeb2>register a domain name</strong> attached to your account address. </p><h3 data-v-2d97aeb2>Why would anyone need that?</h3><p data-v-2d97aeb2> Well, your crypto address is hard to remember. It starts with <code data-v-2d97aeb2>0x</code>, but then continues with 40 random characters (digits from <code data-v-2d97aeb2>0</code> to <code data-v-2d97aeb2>9</code> and letters from <code data-v-2d97aeb2>a</code> to <code data-v-2d97aeb2>f</code>). </p><p data-v-2d97aeb2> If you want someone to send you tokens, sure you could send them your address and they could copy-paste it into their wallet. But wouldn&#39;t it be great if they could just enter a domain name, like <code data-v-2d97aeb2>techie.wagmi</code>, instead of the whole address? </p><p data-v-2d97aeb2> This is what they can do on <code data-v-2d97aeb2>punk.domains</code> (on the Send Tokens page). </p><p data-v-2d97aeb2> Another usecase is to have a domain name as your <strong data-v-2d97aeb2>username</strong> in various web3 dApps, games and upcoming social networks. Instead of your username being <code data-v-2d97aeb2>0xb29\u202645D</code>, it could be <code data-v-2d97aeb2>techie.wagmi</code>. </p><p data-v-2d97aeb2> An additional feature that Punk Domains provide is a <strong data-v-2d97aeb2>browser extension</strong> that takes you to a designated URL address if you type a domain name into browser URL bar. </p><h3 data-v-2d97aeb2>But isn&#39;t all that what ENS is doing already?</h3><p data-v-2d97aeb2> Yes, but they only do it on Ethereum L1 and (for now) only with <code data-v-2d97aeb2>.eth</code>. Punk Domains allows many different top-level domains (TLDs), such as <code data-v-2d97aeb2>.wagmi</code>, <code data-v-2d97aeb2>.ape</code>, <code data-v-2d97aeb2>.opti</code> etc. And it runs on L2 chains. </p><p data-v-2d97aeb2> Punk Domains enables anyone to create a TLD, operate it and earn revenue from it. For example, a DeFi protocol like Aave could create a TLD named <code data-v-2d97aeb2>.aave</code>, and the revenue from each purchase would go to Aave treasury. </p><p data-v-2d97aeb2> Punk Domains architecture is <strong data-v-2d97aeb2>very flexible</strong> and it allows for various domain business models. The first one is a one-time domain purchase (no renewals), but new ones will be added in the future (like time-restricted domain ownership). </p><h3 data-v-2d97aeb2>Not just about domains</h3><p data-v-2d97aeb2> Punk Domains is not just about domains (in the web2 sense of the word). It&#39;s about <strong data-v-2d97aeb2>identity</strong> in the web3 world. Domain name gives you a digital identity, and data attached to this identity strengthen it. </p><p data-v-2d97aeb2> Another thing that Punk Domains cherishes is <strong data-v-2d97aeb2>full decentralization</strong>. The contracts are non-upgradable and don&#39;t need any keepers (or similar outside software) to properly operate. The only thing not decentralized yet is the main factory contract ownership (the one that decides a new TLD price) - but stay tuned... \u{1F609} </p><hr data-v-2d97aeb2>",15),cn=h(" (If you want a more technical overview on how Punk Domains works, "),un=h("click here"),pn=h(".) "),mn=Se(()=>t("p",null,[h(" Punk Domains protocol is proudly serving the following DAOs and communities: "),t("ul",null,[t("li",null,"Layer2DAO: .L2 domain"),t("li",null,[h("KlimaDAO: "),t("a",{href:"https://www.kns.earth",target:"_blank"},".klima domain")]),t("li",null,[h("Smol Brains NFT community: "),t("a",{href:"https://smol.domains",target:"_blank"},".smol domain")])])],-1));function hn(e,n,i,a,s,o){const r=C("router-link");return l(),d("div",an,[on,t("div",rn,[t("div",ln,[dn,t("p",null,[t("em",null,[cn,_(r,{to:"/how"},{default:B(()=>[un]),_:1}),pn])]),mn])])])}var yn=k(sn,[["render",hn],["__scopeId","data-v-2d97aeb2"]]);const fn={name:"Sidebar",computed:v(y({},g("user",["getUserSelectedName","getUserShortAddress","getUserSelectedNameImageSvg"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserShortAddress},getUserImage(){return this.getUserSelectedNameImageSvg?this.getUserSelectedNameImageSvg:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Unknown_person.jpg"}})},Z=e=>(D("data-v-4910bc7a"),e=e(),x(),e),bn={class:"container"},gn=["src"],_n={class:"text-center mt-2 text-break"},wn=Z(()=>t("hr",null,null,-1)),vn=Z(()=>t("i",{class:"bi bi-person"},null,-1)),kn=h(" Profile "),Tn=Z(()=>t("i",{class:"bi bi-cart4"},null,-1)),Cn=h(" Buy domain "),Dn=Z(()=>t("i",{class:"bi bi-search"},null,-1)),xn=h(" Search domain "),An=Z(()=>t("i",{class:"bi bi-send"},null,-1)),Nn=h(" Send tokens "),Bn=Z(()=>t("i",{class:"bi bi-align-top"},null,-1)),Sn=h(" TLDs "),En=Z(()=>t("i",{class:"bi bi-window-plus"},null,-1)),In=h(" Browser extension ");function Mn(e,n,i,a,s,o){const r=C("router-link");return l(),d("div",bn,[t("img",{src:o.getUserImage,class:"img-fluid img-thumbnail"},null,8,gn),t("h3",_n,m(o.getNameOrAddress),1),wn,_(r,{class:"btn btn-sidebar text-start",to:"/profile"},{default:B(()=>[vn,kn]),_:1}),_(r,{class:"btn btn-sidebar text-start",to:"/"},{default:B(()=>[Tn,Cn]),_:1}),_(r,{class:"btn btn-sidebar text-start",to:"/search-domain"},{default:B(()=>[Dn,xn]),_:1}),_(r,{class:"btn btn-sidebar text-start",to:"/send-tokens"},{default:B(()=>[An,Nn]),_:1}),_(r,{class:"btn btn-sidebar text-start",to:"/tlds"},{default:B(()=>[Bn,Sn]),_:1}),_(r,{class:"btn btn-sidebar text-start",to:"/browser"},{default:B(()=>[En,In]),_:1})])}var ee=k(fn,[["render",Mn],["__scopeId","data-v-4910bc7a"]]),Fn="/assets/chrome-logo.f7a9cfbf.png",Un="/assets/firefox-logo.1191b73d.png";const Pn={name:"BrowserExtension",components:{Sidebar:ee}},Rn=e=>(D("data-v-29db68f1"),e=e(),x(),e),$n={class:"row"},On={class:"col-md-3",id:"sidebar-container"},Ln=Rn(()=>t("div",{class:"col-md-9"},[t("div",{class:"row"},[t("div",{class:"col-md-12 mb-3"},[t("div",{class:"container text-center"},[t("h3",null,"Browser Extension/Plugin"),t("p",{class:"text-wrap p-4"}," Punk Domains browser extension allows you to enter a Punk domain name in the URL bar and the extension will redirect you to the URL that is set for that domain. If no URL is set, the extension will redirect you to the domain page on the Punk Domains website. ")])])]),t("div",{class:"row"},[t("div",{class:"col-md-6 mb-3"},[t("div",{class:"container text-center"},[t("h3",null,"Chrome/Brave/Edge/Opera"),t("p",null,[t("small",null,[t("em",null,[t("a",{target:"_blank",href:"https://chrome.google.com/webstore/detail/punk-domains/mdcmgmmealkedhjjpapbgoiabnkgieem"}," Download ")])])]),t("a",{target:"_blank",href:"https://chrome.google.com/webstore/detail/punk-domains/mdcmgmmealkedhjjpapbgoiabnkgieem"},[t("img",{class:"img-fluid browser-img mb-3",src:Fn})])])]),t("div",{class:"col-md-6 mb-3"},[t("div",{class:"container text-center"},[t("h3",null,"Firefox"),t("p",null,[t("small",null,[t("em",null,[t("a",{target:"_blank",href:"https://addons.mozilla.org/en-GB/firefox/addon/punk-domains/"}," Download ")])])]),t("a",{target:"_blank",href:"https://addons.mozilla.org/en-GB/firefox/addon/punk-domains/"},[t("img",{class:"img-fluid browser-img mb-3",src:Un})])])])])],-1));function Hn(e,n,i,a,s,o){const r=C("Sidebar");return l(),d("div",$n,[t("div",On,[_(r)]),Ln])}var Vn=k(Pn,[["render",Hn],["__scopeId","data-v-29db68f1"]]);const Wn={name:"WaitingToast",props:["text"]},jn=t("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Kn={class:"mx-2"};function qn(e,n,i,a,s,o){return l(),d("div",null,[jn,t("span",Kn,m(i.text),1)])}var U=k(Wn,[["render",qn]]);const Jn={name:"EditOtherData",emits:["fetchData"],props:["domainData","tld","domainName","isCorrectChainForDomain"],data(){return{btnInactive:!1,fields:[],tldContract:null}},computed:v(y(y({},g("punk",["getTldAddresses","getTldAbi"])),g("network",["getBlockExplorerBaseUrl"])),{customData(){if(this.domainData)try{return JSON.parse(this.domainData.data)}catch{return null}return null},isOwner(){if(this.domainData)return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()}}),methods:{addField(){this.fields.push({dataKey:"",dataValue:""})},removeField(e){this.fields.splice(e,1)},async editData(){this.btnInactive=!0,this.tldContract||this.setContract();const e={};for(let n of this.fields)n.dataKey&&n.dataValue&&(e[n.dataKey]=n.dataValue);if(this.tldContract)try{const n=await this.tldContract.editData(this.domainName,JSON.stringify(e));document.getElementById("closeCustomDataModal").click();const i=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),a=await n.wait();a.status===1?(this.toast.dismiss(i),this.toast("You have successfully updated your domain's custom data!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.$emit("fetchData"),this.btnInactive=!1):(this.toast.dismiss(i),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(a),this.btnInactive=!1,this.inputUrl=this.domainData.url)}catch(n){this.btnInactive=!1,console.log(n),this.toast(n.message,{type:p.ERROR}),this.inputUrl=this.domainData.url}},getTwitterUrl(e){if(typeof e=="string")return e.startsWith("http")?e:e.startsWith("www")||e.startsWith("twitter.com")?"https://"+e:(e.startsWith("@"),"https://twitter.com/"+e)},setContract(){let e=this.getTldAddresses;if(e&&JSON.stringify(e)!="{}"){const n=e["."+this.tld],i=new b(this.getTldAbi);this.tldContract=new f(n,i,this.signer)}}},setup(){const{address:e,signer:n}=A(),i=F();return{address:e,signer:n,toast:i}},watch:{domainData(){if(this.domainData&&this.domainData.data){const e=JSON.parse(this.domainData.data);for(const[n,i]of Object.entries(e))this.fields.findIndex(a=>a.dataKey==n)===-1&&this.fields.push({dataKey:n,dataValue:i})}this.fields.findIndex(e=>e.dataKey=="imgAddress")===-1&&this.fields.push({dataKey:"imgAddress",dataValue:"",valuePlaceholder:"HTTP, or 0x address if NFT"}),this.fields.findIndex(e=>e.dataKey=="imgTokenId")===-1&&this.fields.push({dataKey:"imgTokenId",dataValue:"",valuePlaceholder:"Only needed if img is NFT"}),this.fields.findIndex(e=>e.dataKey=="imgChainId")===-1&&this.fields.push({dataKey:"ImgChainId",dataValue:"",valuePlaceholder:"Only needed if NFT is on a different chain than domain"}),this.fields.findIndex(e=>e.dataKey=="url")===-1&&this.fields.push({dataKey:"url",dataValue:"",valuePlaceholder:"Add any URL to redirect domain to"}),this.fields.findIndex(e=>e.dataKey=="twitter")===-1&&this.fields.push({dataKey:"twitter",dataValue:"",valuePlaceholder:"Enter your Twitter handle"}),this.isOwner&&this.isCorrectChainForDomain&&this.setContract()}}},se=e=>(D("data-v-60f92e32"),e=e(),x(),e),Yn={class:"mb-3 row domain-data mt-4"},Gn={class:"col-sm-3 punk-title"},Xn={class:"col-sm-9 punk-text"},zn={key:0},Qn=["href"],Zn={key:1},es=["href"],ts={key:2},ns={key:1,class:"btn btn-primary btn-lg mx-3 mt-3","data-bs-toggle":"modal","data-bs-target":"#editDataModal"},ss={class:"modal fade text-start",id:"editDataModal",tabindex:"-1","aria-labelledby":"editDataModalLabel","aria-hidden":"true"},as={class:"modal-dialog modal-dialog-centered"},is={class:"modal-content"},os=se(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"editDataModalLabel"},"Edit other data"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),rs={class:"modal-body"},ls=se(()=>t("p",null," You can add custom data to this domain. ",-1)),ds=se(()=>t("p",null," Example: twitter -> @myhandle ",-1)),cs={class:"input-group mb-3 mt-4"},us=["onUpdate:modelValue"],ps=se(()=>t("span",{class:"input-group-text"},[t("i",{class:"bi bi-arrow-right"})],-1)),ms=["onUpdate:modelValue","placeholder"],hs=["onClick"],ys=se(()=>t("i",{class:"bi bi-x-circle"},null,-1)),fs=[ys],bs={class:"modal-footer"},gs=["disabled"],_s=se(()=>t("button",{id:"closeCustomDataModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function ws(e,n,i,a,s,o){return l(),d(M,null,[o.customData?(l(!0),d(M,{key:0},j(o.customData,(r,c)=>(l(),d("div",Yn,[t("div",Gn,m(c.charAt(0).toUpperCase()+c.slice(1)),1),t("div",Xn,[c=="url"?(l(),d("span",zn,[t("a",{target:"_blank",href:r},m(r),9,Qn)])):c=="twitter"?(l(),d("span",Zn,[t("a",{target:"_blank",href:o.getTwitterUrl(r)},m(r),9,es)])):(l(),d("span",ts,m(r),1))])]))),256)):u("",!0),o.isOwner&&i.isCorrectChainForDomain?(l(),d("button",ns," Edit data ")):u("",!0),t("div",ss,[t("div",as,[t("div",is,[os,t("div",rs,[ls,ds,s.fields?(l(!0),d(M,{key:0},j(s.fields,(r,c)=>(l(),d("div",cs,[S((l(),d("input",{type:"text",key:"dataKey"+c,class:"form-control","onUpdate:modelValue":w=>r.dataKey=w,placeholder:"Enter key (like twitter)"},null,8,us)),[[E,r.dataKey]]),ps,S((l(),d("input",{type:"text",class:"form-control",key:"dataValue"+c,"onUpdate:modelValue":w=>r.dataValue=w,placeholder:r.valuePlaceholder?r.valuePlaceholder:"Enter value"},null,8,ms)),[[E,r.dataValue]]),t("span",{class:"input-group-text",onClick:w=>o.removeField(c)},fs,8,hs)]))),256)):u("",!0),t("button",{class:"btn btn-secondary btn-sm",onClick:n[0]||(n[0]=(...r)=>o.addField&&o.addField(...r))}," Add new field ")]),t("div",bs,[t("button",{type:"button",class:"btn btn-secondary",onClick:n[1]||(n[1]=(...r)=>o.editData&&o.editData(...r)),disabled:s.btnInactive},"Edit data",8,gs),_s])])])])],64)}var vs=k(Jn,[["render",ws],["__scopeId","data-v-60f92e32"]]);const ks={name:"EditPfp",emits:["fetchData"],props:["domainData","tld","domainName"],data(){return{inputPfpAddress:null,inputPfpId:null,tldContract:null,btnInactive:!1}},computed:v(y(y({},g("punk",["getTldAddresses","getTldAbi"])),g("network",["getBlockExplorerBaseUrl"])),{customPfp(){return this.domainData.pfpAddress!=N?this.shortenAddress(this.domainData.pfpAddress)+" (token ID: "+this.domainData.pfpTokenId+")":"Custom PFP not set yet."},isOwner(){return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()},pfpAddress(){return this.domainData.pfpAddress!=N?this.domainData.pfpAddress:null}}),methods:{async editPfp(){this.btnInactive=!0;const e=this.inputPfpAddress,n=this.inputPfpId,i=new b(["function ownerOf(uint256 tokenId) public view returns (address)"]),a=new f(e,i,this.signer);let s;try{s=await a.ownerOf(n)}catch(o){this.btnInactive=!1,console.log(o),this.toast(o.message,{type:p.ERROR}),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId}if(s&&String(this.address).toLowerCase()!=String(s).toLowerCase())this.toast("It looks like your current address is not this NFT owner.",{type:p.ERROR}),this.btnInactive=!1,this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId;else if(s&&String(this.address).toLowerCase()===String(s).toLowerCase()&&(this.tldContract||this.setContract(),this.tldContract))try{const o=await this.tldContract.editPfp(this.domainName,e,n);document.getElementById("closePfpModal").click();const r=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),c=await o.wait();c.status===1?(this.btnInactive=!1,this.toast.dismiss(r),this.toast("You have successfully updated your PFP data!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.$emit("fetchData")):(this.btnInactive=!1,this.toast.dismiss(r),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(c),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId)}catch(o){this.btnInactive=!1,console.log(o),this.toast(o.message,{type:p.ERROR}),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId}},setContract(){let e=this.getTldAddresses;if(e&&JSON.stringify(e)!="{}"){const n=e["."+this.tld],i=new b(this.getTldAbi);this.tldContract=new f(n,i,this.signer)}}},setup(){const{address:e,signer:n}=A(),i=F();return{address:e,shortenAddress:K,signer:n,toast:i}},watch:{domainData(){this.domainData.pfpAddress!=N&&(this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId)}}},ie=e=>(D("data-v-3ff79b3e"),e=e(),x(),e),Ts={key:0,class:"mb-3 row domain-data mt-4"},Cs=ie(()=>t("div",{class:"col-sm-3 punk-title"}," Custom PFP ",-1)),Ds={class:"col-sm-9 punk-text"},xs={key:0,class:"btn btn-primary btn-sm mx-3","data-bs-toggle":"modal","data-bs-target":"#editPfpModal"},As={class:"modal fade text-start",id:"editPfpModal",tabindex:"-1","aria-labelledby":"editPfpModalLabel","aria-hidden":"true"},Ns={class:"modal-dialog modal-dialog-centered"},Bs={class:"modal-content"},Ss=ie(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"editPfpModalLabel"},"Edit PFP"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Es={class:"modal-body"},Is={key:0,class:"mb-3"},Ms=ie(()=>t("label",{class:"form-label"},"Enter NFT address:",-1)),Fs={key:1,class:"mb-3"},Us=ie(()=>t("label",{class:"form-label"},"Enter NFT token ID:",-1)),Ps={class:"modal-footer"},Rs=["disabled"],$s=ie(()=>t("button",{id:"closePfpModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Os(e,n,i,a,s,o){return l(),d(M,null,[i.domainData?(l(),d("div",Ts,[Cs,t("div",Ds,[t("span",null,m(o.customPfp),1),o.isOwner?(l(),d("button",xs,"Edit")):u("",!0)])])):u("",!0),t("div",As,[t("div",Ns,[t("div",Bs,[Ss,t("div",Es,[t("p",null," Enter the address and token ID of an NFT that you own and want to designate as the main PFP of the "+m(i.domainName)+"."+m(i.tld)+" domain. ",1),i.domainData?(l(),d("div",Is,[Ms,S(t("input",{type:"text",class:"form-control",placeholder:"0x...","onUpdate:modelValue":n[0]||(n[0]=r=>s.inputPfpAddress=r)},null,512),[[E,s.inputPfpAddress]])])):u("",!0),i.domainData?(l(),d("div",Fs,[Us,S(t("input",{type:"text",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=r=>s.inputPfpId=r)},null,512),[[E,s.inputPfpId]])])):u("",!0)]),t("div",Ps,[t("button",{type:"button",class:"btn btn-secondary",onClick:n[2]||(n[2]=(...r)=>o.editPfp&&o.editPfp(...r)),disabled:s.btnInactive},"Edit PFP data",8,Rs),$s])])])])],64)}var Ls=k(ks,[["render",Os],["__scopeId","data-v-3ff79b3e"]]);const Hs={name:"EditUrl",emits:["fetchData"],props:["domainData","tld","domainName"],data(){return{inputUrl:null,tldContract:null,btnInactive:!1}},computed:v(y(y({},g("punk",["getTldAddresses","getTldAbi"])),g("network",["getBlockExplorerBaseUrl"])),{isOwner(){return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()},urlData(){return this.domainData.url?this.domainData.url:"Redirect URL not set yet."}}),methods:{async editUrl(){if(this.btnInactive=!0,this.tldContract||this.setContract(),this.tldContract)try{const e=await this.tldContract.editUrl(this.domainName,this.inputUrl);document.getElementById("closeUrlModal").click();const n=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),i=await e.wait();i.status===1?(this.toast.dismiss(n),this.toast("You have successfully updated the URL!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),this.$emit("fetchData"),this.btnInactive=!1):(this.toast.dismiss(n),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),console.log(i),this.btnInactive=!1,this.inputUrl=this.domainData.url)}catch(e){this.btnInactive=!1,console.log(e),this.toast(e.message,{type:p.ERROR}),this.inputUrl=this.domainData.url}},setContract(){let e=this.getTldAddresses;if(e&&JSON.stringify(e)!="{}"){const n=e["."+this.tld],i=new b(this.getTldAbi);this.tldContract=new f(n,i,this.signer)}}},setup(){const{address:e,signer:n}=A(),i=F();return{address:e,signer:n,toast:i}},watch:{domainData(){this.inputUrl=this.domainData.url}}},be=e=>(D("data-v-14dbd504"),e=e(),x(),e),Vs={key:0,class:"mb-3 row domain-data mt-4"},Ws=be(()=>t("div",{class:"col-sm-3 punk-title"}," URL ",-1)),js={class:"col-sm-9 punk-text"},Ks={key:0,class:"btn btn-primary btn-sm mx-3","data-bs-toggle":"modal","data-bs-target":"#editUrlModal"},qs={class:"modal fade",id:"editUrlModal",tabindex:"-1","aria-labelledby":"editUrlModalLabel","aria-hidden":"true"},Js={class:"modal-dialog modal-dialog-centered"},Ys={class:"modal-content"},Gs=be(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"editUrlModalLabel"},"Edit URL"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Xs={class:"modal-body"},zs={key:0,class:"mb-3"},Qs={class:"modal-footer"},Zs=["disabled"],ea=be(()=>t("button",{id:"closeUrlModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function ta(e,n,i,a,s,o){return l(),d(M,null,[i.domainData?(l(),d("div",Vs,[Ws,t("div",js,[t("span",null,m(o.urlData),1),o.isOwner?(l(),d("button",Ks,"Edit")):u("",!0)])])):u("",!0),t("div",qs,[t("div",Js,[t("div",Ys,[Gs,t("div",Xs,[t("p",null," Anyone who's using the Punk browser extension will get redirected to this URL if they enter "+m(i.domainName)+"."+m(i.tld)+" in the browser URL bar. ",1),i.domainData?(l(),d("div",zs,[S(t("input",{type:"text",class:"form-control",placeholder:"Enter URL","onUpdate:modelValue":n[0]||(n[0]=r=>s.inputUrl=r)},null,512),[[E,s.inputUrl]])])):u("",!0)]),t("div",Qs,[t("button",{type:"button",class:"btn btn-secondary",onClick:n[1]||(n[1]=(...r)=>o.editUrl&&o.editUrl(...r)),disabled:s.btnInactive},"Edit URL",8,Zs),ea])])])])],64)}var na=k(Hs,[["render",ta],["__scopeId","data-v-14dbd504"]]);const sa={name:"DomainDetails",props:["domainChain","tld","domainName"],components:{EditOtherData:vs,EditPfp:Ls,EditUrl:na,Sidebar:ee},data(){return{loadingData:!1,tldContract:null,domainData:null,pfpImage:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Unknown_person.jpg"}},created(){!this.tldContract&&this.isCorrectChainForDomain&&this.setContract(),this.fetchData()},computed:v(y(y({},g("punk",["getTldAddresses","getTldAbi"])),g("network",["getBlockExplorerBaseUrl","getChainId","getFallbackProvider","getSupportedNetworks","isNetworkSupported"])),{holderData(){return this.domainData.holder!==N?this.domainData.holder:"This domain name is not owned by anyone yet."},isCorrectChainForDomain(){return Number(this.domainChain)===Number(this.getChainId)}}),methods:{async fetchData(){this.loadingData=!0;const e=this.getFallbackProvider(Number(this.domainChain)),n=new b(V),i=new f(P[this.domainChain]["."+this.tld],n,e);if(i&&(this.domainData=await i.domains(this.domainName),this.domainData&&this.domainData.holder!==N)){let a=await i.tokenURI(this.domainData.tokenId),s=!0;if(this.domainData.data){const o=JSON.parse(this.domainData.data);if(o.imgAddress)if(!o.imgAddress.startsWith("0x"))this.pfpImage=o.imgAddress.replace("ipfs://","https://ipfs.io/ipfs/"),s=!1;else if(o.imgAddress){const r=new b(["function tokenURI(uint256 tokenId) public view returns (string memory)"]);let c=this.domainChain;o.imgChainId&&(c=o.imgChainId);try{const w=this.getFallbackProvider(Number(c));a=await new f(o.imgAddress,r,w).tokenURI(o.imgTokenId)}catch{}}else a=await i.tokenURI(o.imgTokenId);if(a.includes("ipfs://")&&(a=a.replace("ipfs://","https://ipfs.io/ipfs/")),a.includes("http")){const c=await(await fetch(a)).json();c&&c.image&&(this.pfpImage=c.image.replace("ipfs://","https://ipfs.io/ipfs/"),s=!1)}}if(a&&s){const o=atob(a.substring(29)),r=JSON.parse(o);r&&r.image&&(this.pfpImage=r.image)}}this.loadingData=!1},setContract(){let e=this.getTldAddresses;if(e&&JSON.stringify(e)!="{}"){const n=e["."+this.tld],i=new b(this.getTldAbi);this.tldContract=new f(n,i,this.signer)}}},setup(){const{isActivated:e,signer:n}=A(),i=F(),{getChainName:a}=q();return{getChainName:a,isActivated:e,signer:n,toast:i}}},ge=e=>(D("data-v-3b845186"),e=e(),x(),e),aa={class:"row"},ia={class:"col-md-3",id:"sidebar-container"},oa={class:"col-md-9"},ra={class:"row"},la={class:"col-md-12"},da={class:"container text-center"},ca=["src"],ua={key:0,class:"mb-3 text-center mt-4"},pa=ge(()=>t("span",{class:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"},null,-1)),ma=[pa],ha={key:1,class:"mb-3 row domain-data mt-4"},ya=ge(()=>t("div",{class:"col-sm-3 punk-title"}," Holder address ",-1)),fa={class:"col-sm-9 punk-text text-break"},ba={class:"mb-3 row domain-data mt-4"},ga=ge(()=>t("div",{class:"col-sm-3 punk-title"}," Network ",-1)),_a={class:"col-sm-9 punk-text text-break"};function wa(e,n,i,a,s,o){const r=C("Sidebar"),c=C("EditOtherData");return l(),d("div",aa,[t("div",ia,[_(r)]),t("div",oa,[t("div",ra,[t("div",la,[t("div",da,[t("h3",null,m(i.domainName)+"."+m(i.tld),1),t("img",{class:"img-thumbnail domain-image",src:s.pfpImage},null,8,ca),s.loadingData?(l(),d("div",ua,ma)):u("",!0),s.domainData?(l(),d("div",ha,[ya,t("div",fa,m(o.holderData),1)])):u("",!0),t("div",ba,[ga,t("div",_a,m(a.getChainName(Number(i.domainChain)))+" (this is where domain is registered) ",1)]),_(c,{domainData:s.domainData,tld:i.tld,domainName:i.domainName,isCorrectChainForDomain:o.isCorrectChainForDomain,onFetchData:o.fetchData},null,8,["domainData","tld","domainName","isCorrectChainForDomain","onFetchData"])])])])])])}var va=k(sa,[["render",wa],["__scopeId","data-v-3b845186"]]);function ae(){function e(a){return a===""?{invalid:!0,message:null}:a===null?{invalid:!0,message:null}:a.includes(".")?{invalid:!0,message:"Dots not allowed"}:a.includes(" ")?{invalid:!0,message:"Spaces not allowed"}:a.includes("%")?{invalid:!0,message:"% not allowed"}:a.includes("&")?{invalid:!0,message:"& not allowed"}:a.includes("?")?{invalid:!0,message:"? not allowed"}:a.includes("#")?{invalid:!0,message:"# not allowed"}:a.includes("/")?{invalid:!0,message:"/ not allowed"}:a.includes(",")?{invalid:!0,message:"Comma not allowed"}:a.length<2?{invalid:!0,message:"Domain name must be longer than 1 character"}:!1}function n(a){return a===""?{invalid:!0,message:null}:a===null?{invalid:!0,message:null}:a.includes(".")?{invalid:!0,message:"Dots not allowed"}:a.includes(" ")?{invalid:!0,message:"Spaces not allowed"}:a.includes("%")?{invalid:!0,message:"% not allowed"}:a.includes("&")?{invalid:!0,message:"& not allowed"}:a.includes("?")?{invalid:!0,message:"? not allowed"}:a.includes("#")?{invalid:!0,message:"# not allowed"}:a.includes("/")?{invalid:!0,message:"/ not allowed"}:a.includes(",")?{invalid:!0,message:"Comma not allowed"}:!1}function i(a){return a===""?{invalid:!0,message:null}:a===null?{invalid:!0,message:null}:a.includes(".")?{invalid:!0,message:"Dots not allowed"}:a.includes(" ")?{invalid:!0,message:"Spaces not allowed"}:a.includes("%")?{invalid:!0,message:"% not allowed"}:a.includes("&")?{invalid:!0,message:"& not allowed"}:a.includes("?")?{invalid:!0,message:"? not allowed"}:a.includes("#")?{invalid:!0,message:"# not allowed"}:a.includes("/")?{invalid:!0,message:"/ not allowed"}:a.includes(",")?{invalid:!0,message:"Comma not allowed"}:a.length<2?{invalid:!0,message:"Domain name must be longer than 1 character"}:!1}return{buyNotValid:e,buyNotValidFlexi:n,tldBuyNotValid:i}}const ka={name:"Home",data(){return{chosenDomainName:null,enabledBuyingTlds:[],selectedTld:null,selectedPrice:null,waiting:!1}},created(){this.getDomainPrices&&this.checkEnabledBuying()},computed:v(y(y({},g("network",["getBlockExplorerBaseUrl","getNetworkName","getNetworkCurrency","getSupportedNetworks","getSupportedNetworkNames"])),g("punk",["getTlds","getTldAddresses","getDomainPrices","getTldAbi"])),{domainLowerCase(){return this.chosenDomainName.toLowerCase()}}),methods:v(y(y({},z("user",["fetchUserDomainNames"])),H("user",["addDomainManually"])),{async buyDomain(){this.waiting=!0;const e=this.domainLowerCase+this.selectedTld,n=new b(this.getTldAbi),i=new f(this.getTldAddresses[this.selectedTld],n,this.signer);if(this.selectedPrice||(this.selectedPrice=await i.price()),await i.getDomainHolder(this.domainLowerCase)!==N){this.toast("Sorry, but this domain name is already taken...",{type:p.ERROR}),this.waiting=!1;return}try{let s=localStorage.getItem("referral");(!s||!$(s))&&(s=N);const o=await i.mint(this.domainLowerCase,this.address,s,{value:String(this.selectedPrice)});if(o){const r=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),c=await o.wait();c.status===1?(this.toast.dismiss(r),this.toast("You have successfully bought the domain!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.fetchUserDomainNames(),this.addDomainManually(e),this.waiting=!1):(this.toast.dismiss(r),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(c),this.waiting=!1)}}catch(s){console.log(s),this.waiting=!1,this.toast(s.message,{type:p.ERROR})}this.waiting=!1},changeNetwork(e){const n=this.switchNetwork(e);window.ethereum.request({method:n.method,params:n.params})},changeTld(e){this.selectedTld=e,this.selectedPrice=this.getDomainPrices[e]},async checkEnabledBuying(){const e=this.selectedTld;this.enabledBuyingTlds=[];let n=0;if(this.getTlds)for(let i of this.getTlds){const a=new b(this.getTldAbi);await new f(this.getTldAddresses[i],a,this.signer).buyingEnabled()&&(this.enabledBuyingTlds.push(i),n===0?(this.selectedTld=i,n++):i===e&&(this.selectedTld=e))}this.enabledBuyingTlds&&!this.selectedTld&&(this.selectedTld=this.enabledBuyingTlds[0]),this.selectedPrice=this.getDomainPrices[this.selectedTld]},parseValue(e){if(e)return Q(e)}}),setup(){const{open:e}=X(),{address:n,chainId:i,isActivated:a,signer:s}=A(),o=F(),{buyNotValid:r}=ae(),{switchNetwork:c}=q();return{address:n,buyNotValid:r,chainId:i,isActivated:a,displayEther:ce,open:e,signer:s,switchNetwork:c,toast:o}},watch:{chainId(e,n){e!=n&&(this.selectedTld=null)},getTlds(e,n){e&&this.getDomainPrices&&this.checkEnabledBuying()},getDomainPrices(e,n){e&&this.checkEnabledBuying()}}},Ta=e=>(D("data-v-bf18dab4"),e=e(),x(),e),Ca={class:"container text-center"},Da=Ta(()=>t("h1",{class:"mt-5"},"Permissionless Web3 Domains",-1)),xa={key:0,class:"dropdown mt-5"},Aa=h(" Choose network: "),Na={class:"mx-3 btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},Ba={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Sa=["onClick"],Ea={key:1,class:"mt-5"},Ia={class:"d-flex justify-content-center domain-input-container"},Ma={class:"input-group mb-3 domain-input input-group-lg"},Fa={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Ua={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Pa={class:"dropdown-menu dropdown-menu-end"},Ra=["onClick"],$a={key:2,class:"error"},Oa={class:"mt-3"},La=["disabled"],Ha={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Va=h(" Buy domain ");function Wa(e,n,i,a,s,o){return l(),d("div",Ca,[Da,a.isActivated?(l(),d("div",xa,[Aa,t("button",Na,m(e.getNetworkName),1),t("ul",Ba,[t("li",null,[(l(!0),d(M,null,j(e.getSupportedNetworkNames,r=>(l(),d("span",{class:"dropdown-item",onClick:c=>o.changeNetwork(r)},m(r),9,Sa))),256))])])])):u("",!0),a.isActivated?u("",!0):(l(),d("div",Ea,[t("button",{class:"btn btn-primary",onClick:n[0]||(n[0]=(...r)=>a.open&&a.open(...r))},"Connect wallet")])),t("div",Ia,[t("div",Ma,[S(t("input",{"onUpdate:modelValue":n[1]||(n[1]=r=>s.chosenDomainName=r),placeholder:"enter domain name",type:"text",class:"form-control text-end","aria-label":"Text input with dropdown button"},null,512),[[E,s.chosenDomainName]]),t("button",Fa,[a.isActivated&&!s.selectedTld?(l(),d("span",Ua)):u("",!0),h(" "+m(s.selectedTld),1)]),t("ul",Pa,[t("li",null,[(l(!0),d(M,null,j(s.enabledBuyingTlds,r=>(l(),d("span",{class:"dropdown-item",onClick:c=>o.changeTld(r)},m(r),9,Ra))),256))])])])]),a.buyNotValid(s.chosenDomainName).invalid?(l(),d("p",$a,[t("small",null,[t("em",null,m(a.buyNotValid(s.chosenDomainName).message),1)])])):u("",!0),t("p",Oa," Domain price: "+m(this.parseValue(this.selectedPrice))+" "+m(e.getNetworkCurrency),1),t("button",{class:"btn btn-primary btn-lg mt-1 buy-button",onClick:n[2]||(n[2]=(...r)=>o.buyDomain&&o.buyDomain(...r)),disabled:s.waiting||a.buyNotValid(s.chosenDomainName).invalid},[s.waiting?(l(),d("span",Ha)):u("",!0),Va],8,La)])}var ja=k(ka,[["render",Wa],["__scopeId","data-v-bf18dab4"]]),Ka="/assets/architecture.ae76fdad.png";const qa={name:"HowItWorks"},Ee=e=>(D("data-v-d9827a54"),e=e(),x(),e),Ja={class:"container"},Ya=Ee(()=>t("h1",{class:"text-center"},"How it works",-1)),Ga=Ee(()=>t("div",{class:"row mt-3"},[t("div",{class:"col-md-8 offset-md-2"},[t("p",null,[h(" Let's take a more technical overview of Punk Domains. The main Punk Domains engines are TLD "),t("strong",null,"Factory"),h(" contracts. ")]),t("p",{class:"text-center"},[t("img",{class:"img-fluid",src:Ka})]),t("h3",null,"TLD Factories"),t("p",null," Each factory has a TLD template that defines its business logic. Currently, there's only one factory contract which allows for one-time TLD and domain purchases. This means that these domains never expire (holders can hold them forever). "),t("p",null," In the future, new TLD factories will be added, each with a different business logic and each with its own mix of one-time and/or renewable TLDs/domains rules (and perhaps new business models that we haven't thought yet about). "),t("h3",null,"Restricted TLD names"),t("p",null," TLD factories need to communicate in order to avoid TLD collision (meaning two factories producing the same TLD). "),t("p",null,[h(" In order to prevent collisions, there's a contract called "),t("code",null,"PunkForbiddenTlds"),h(", which has a list of already used or restricted TLD names ("),t("code",null,".eth"),h(" is an example of a forbidden TLD name, because it's used in ENS). ")]),t("h3",null,"TLD contracts"),t("p",null," A TLD needs to be purchased (minted) from a TLD Factory for a certain price. There needs to be a (high enough) price to avoid spamming and squatting. "),t("p",null,"(Note that a TLD Factory can temporarily restrict new TLD mints to the factory owner only.)"),t("p",null," A TLD contract can be owned by anyone. The TLD owner can set domain prices and can stop domain sales anytime they want. "),t("p",null,[t("ul",null,[t("li",null,[h("Example of a TLD: "),t("code",null,".wagmi")]),t("li",null,[h("Example of a domain: "),t("code",null,"techie.wagmi")])])]),t("p",null," The factory owner can set a royalty for each domain purchase, but the royalty can never exceed 50% of the domain price (in reallity it will be much lower). "),t("p",null," The TLD owner cannot confiscate domain from its holder, just like Factory owner cannot confiscate a TLD from its owner. Factory owner can only set a royalty in the TLD contract and nothing else. "),t("h3",null,"Domains"),t("p",null,"A domain can only be held by one address, but one address can hold many domains."),t("p",null,[h(" A domain can hold many pieces of data: "),t("ul",null,[t("li",null,"The holder's address (by default)."),t("li",null,"Profile picture (an NFT that the user owns)."),t("li",null," URL (like user's homepage or similar; this comes handy together with the Punk Domains browser plugin). "),t("li",null,"Custom data such as a Twitter handle, description, etc.")])]),t("p",null," Each domain is an ERC-721 NFT and can be sold on NFT marketplaces. "),t("h3",null,"Resources"),t("p",null,[t("ul",null,[t("li",null,[t("a",{target:"_blank",href:"http://docs.punk.domains"},"Docs")]),t("li",null,[t("a",{target:"_blank",href:"https://github.com/punk-domains"},"GitHub")]),t("li",null,[t("a",{target:"_blank",href:"https://discord.gg/8dSrwrAQeu"},"Discord")]),t("li",null,[t("a",{target:"_blank",href:"https://twitter.com/PunkDomains"},"Twitter")])])])])],-1)),Xa=[Ya,Ga];function za(e,n,i,a,s,o){return l(),d("div",Ja,Xa)}var Qa=k(qa,[["render",za],["__scopeId","data-v-d9827a54"]]);const Za={name:"Referral",props:["urlpath"],computed:v(y({},g("user",["getUserAddress","getUserSelectedName"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserAddress},getUrlPath(){return this.urlpath?this.urlpath:""}}),methods:{copyToClipboard(e){navigator.clipboard.writeText(e),this.toast("Referral link copied to your clipboard!",{type:p.SUCCESS})}},setup(){return{toast:F()}}},Ie=e=>(D("data-v-69445303"),e=e(),x(),e),ei={class:"row"},ti={class:"col-md-12 mt-3"},ni={class:"container text-center"},si=Ie(()=>t("h3",null,"Referrals",-1)),ai=Ie(()=>t("p",null," Share this referral link and earn rewards from new domain mints! ",-1)),ii={class:"row mt-1"},oi={class:"col-md-6 offset-md-3"},ri=["value"];function li(e,n,i,a,s,o){return l(),d("div",ei,[t("div",ti,[t("div",ni,[si,ai,t("div",ii,[t("div",oi,[t("input",{class:"form-control text-center clipboard",value:"https://punk.domains/#/"+o.getUrlPath+"?ref="+this.getNameOrAddress,onClick:n[0]||(n[0]=r=>o.copyToClipboard("https://punk.domains/#/"+o.getUrlPath+"?ref="+this.getNameOrAddress)),readonly:""},null,8,ri)])])])])])}var pe=k(Za,[["render",li],["__scopeId","data-v-69445303"]]),di="/assets/l2dao.9b447ad1.png";const ci={name:"L2Dao",data(){return{chosenDomainName:null,domainPrice:null,loading:!1,mintContract:null,paused:!0,tld:".L2",tldContract:null,waiting:!1}},components:{Referral:pe},created(){this.setContracts()},computed:v(y({},g("network",["getBlockExplorerBaseUrl","getFallbackProvider"])),{domainLowerCase(){return this.chosenDomainName.toLowerCase()},isNetworkSupported(){return!!(this.isActivated&&(this.chainId===10||this.chainId===69))}}),methods:v(y({},H("user",["addDomainManually"])),{async buyDomain(){this.waiting=!0;const e=this.domainLowerCase+this.tld.toLowerCase();let n="0x9A7657d1593032C75d70950707870c3cC7ca45DC";this.chainId===69&&(n="0xB5B8AF8199777d471c0320BC11022433df6D100e");const i=new b(V),a=new f(n,i,this.signer);if(await a.getDomainHolder(this.domainLowerCase)!==N){this.toast("Sorry, but this domain name is already taken...",{type:p.ERROR}),this.waiting=!1;return}try{let o=localStorage.getItem("referral");(!o||!$(o))&&(o=N);const r=await a.mint(this.domainLowerCase,this.address,o,{value:fe(this.domainPrice)}),c=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),w=await r.wait();w.status===1?(this.toast.dismiss(c),this.toast("You have successfully bought the domain!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),this.setContracts(),this.addDomainManually(e),this.waiting=!1):(this.toast.dismiss(c),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),console.log(w),this.waiting=!1)}catch(o){console.log(o),this.waiting=!1,this.toast(o.message,{type:p.ERROR})}this.waiting=!1},changeNetwork(e){const n=this.switchNetwork(e);window.ethereum.request({method:n.method,params:n.params})},async setContracts(){this.loading=!0;let e=this.getFallbackProvider(10),n="0x9A7657d1593032C75d70950707870c3cC7ca45DC";this.tld=".L2",this.chainId===69&&(e=this.getFallbackProvider(69),n="0xB5B8AF8199777d471c0320BC11022433df6D100e",this.tld=".L2test");const i=new b(V);this.tldContract=new f(n,i,e);const a=await this.tldContract.price();this.domainPrice=Q(a);const s=await this.tldContract.buyingEnabled();this.paused=!s,this.loading=!1}}),setup(){const{open:e}=X(),{address:n,chainId:i,isActivated:a,signer:s}=A(),o=F(),{buyNotValid:r}=ae(),{switchNetwork:c}=q();return{address:n,buyNotValid:r,chainId:i,isActivated:a,open:e,signer:s,switchNetwork:c,toast:o}},watch:{address(){this.setContracts()},chainId(){this.setContracts()}}},oe=e=>(D("data-v-525edc9c"),e=e(),x(),e),ui={class:"container text-center"},pi=oe(()=>t("img",{class:"img-fluid l2dao",src:di},null,-1)),mi=oe(()=>t("span",{class:"and"},"&",-1)),hi=oe(()=>t("img",{class:"img-fluid l2dao",src:Ae},null,-1)),yi=oe(()=>t("h1",{class:"mt-5"},"Get yourself a .L2 Domain!",-1)),fi=oe(()=>t("div",{class:"row mt-5"},[t("div",{class:"col-md-8 offset-md-2"},[t("p",null," .L2 domain is the official domain of Layer2DAO and powered by the Punk Domains protocol. ")])],-1)),bi={class:"d-flex justify-content-center domain-input-container"},gi={class:"input-group mb-3 domain-input input-group-lg"},_i={class:"input-group-text tld-addon"},wi={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},vi={key:1},ki={key:0,class:"error"},Ti={class:"mt-4"},Ci=["disabled"],Di={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},xi={key:1},Ai={key:2},Ni={key:2,class:"mt-4 buy-button"},Bi={key:3,class:"mt-4 buy-button"};function Si(e,n,i,a,s,o){const r=C("Referral");return l(),d(M,null,[t("div",ui,[pi,mi,hi,yi,fi,t("div",bi,[t("div",gi,[S(t("input",{"onUpdate:modelValue":n[0]||(n[0]=c=>s.chosenDomainName=c),placeholder:"enter domain name",type:"text",class:"form-control text-end","aria-label":"Text input with dropdown button"},null,512),[[E,s.chosenDomainName]]),t("span",_i,[s.loading?(l(),d("span",wi)):u("",!0),s.loading?u("",!0):(l(),d("span",vi,m(s.tld),1))])])]),a.buyNotValid(s.chosenDomainName).invalid?(l(),d("p",ki,[t("small",null,[t("em",null,m(a.buyNotValid(s.chosenDomainName).message),1)])])):u("",!0),t("p",Ti," Domain price: "+m(s.domainPrice)+" ETH ",1),a.isActivated&&o.isNetworkSupported?(l(),d("button",{key:1,class:"btn btn-primary btn-lg mt-3 buy-button",onClick:n[1]||(n[1]=(...c)=>o.buyDomain&&o.buyDomain(...c)),disabled:s.waiting||a.buyNotValid(s.chosenDomainName).invalid||s.paused},[s.waiting?(l(),d("span",Di)):u("",!0),s.paused?u("",!0):(l(),d("span",xi,"Buy domain")),s.paused?(l(),d("span",Ai,"Buying disabled")):u("",!0)],8,Ci)):u("",!0),a.isActivated?u("",!0):(l(),d("div",Ni,[t("button",{class:"btn btn-primary btn-lg",onClick:n[2]||(n[2]=(...c)=>a.open&&a.open(...c))},"Connect wallet")])),a.isActivated&&!o.isNetworkSupported?(l(),d("div",Bi,[t("button",{class:"btn btn-primary btn-lg",onClick:n[3]||(n[3]=c=>o.changeNetwork("Optimism"))},"Switch to Optimism")])):u("",!0)]),a.isActivated?(l(),de(r,{key:0,urlpath:"partners/l2dao"})):u("",!0)],64)}var Ei=k(ci,[["render",Si],["__scopeId","data-v-525edc9c"]]),Me=[{inputs:[{internalType:"address",name:"_tokenAddress",type:"address"},{internalType:"address",name:"_tldAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"price_",type:"uint256"}],name:"PriceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"referral_",type:"uint256"}],name:"ReferralChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"royalty_",type:"uint256"}],name:"RoyaltyChanged",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"MAX_BPS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_referral",type:"uint256"}],name:"changeReferralFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royalty",type:"uint256"}],name:"changeRoyaltyFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"paymentToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"uint256",name:"tokenAmount_",type:"uint256"},{internalType:"address",name:"recipient_",type:"address"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"uint256",name:"tokenId_",type:"uint256"},{internalType:"address",name:"recipient_",type:"address"}],name:"recoverERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referralFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royaltyFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tldContract",outputs:[{internalType:"contract IFlexiPunkTLD",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"togglePaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],Fe=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_tldOwner",type:"address"},{internalType:"uint256",name:"_domainPrice",type:"uint256"},{internalType:"bool",name:"_buyingEnabled",type:"bool"},{internalType:"uint256",name:"_royalty",type:"uint256"},{internalType:"address",name:"_factoryAddress",type:"address"},{internalType:"address",name:"_metadataAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"DataChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"defaultDomain",type:"string"}],name:"DefaultDomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"fullDomainName",type:"string"}],name:"DomainBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"bool",name:"domainBuyingToggle",type:"bool"}],name:"DomainBuyingToggle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"string",name:"fullDomainName",type:"string"}],name:"DomainCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"}],name:"MintingDisabledForever",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"referralFee",type:"uint256"}],name:"ReferralFeeChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tldPrice",type:"uint256"}],name:"TldPriceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tldRoyalty",type:"uint256"}],name:"TldRoyaltyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"buyingDisabledForever",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"buyingEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_metadataAddress",type:"address"}],name:"changeMetadataAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"}],name:"changeMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxLength",type:"uint256"}],name:"changeNameMaxLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_referral",type:"uint256"}],name:"changeReferralFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royalty",type:"uint256"}],name:"changeRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newReceiver",type:"address"}],name:"changeRoyaltyFeeReceiver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newUpdater",type:"address"}],name:"changeRoyaltyFeeUpdater",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"defaultNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"disableBuyingForever",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"domainIdsNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"domains",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"string",name:"data",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"string",name:"_data",type:"string"}],name:"editData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"editDefaultDomain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factoryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"freezeMetadata",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainData",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainHolder",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"idCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"metadataAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"metadataFrozen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nameMaxLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"referral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyFeeReceiver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyFeeUpdater",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"toggleBuyingDomains",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],_e=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];const Ii={name:"Huwa",data(){return{canMint:!0,chosenAllowance:20,chosenDomainName:null,domainPrice:null,idMainnet:56,idTestnet:421611,loading:!1,mintAddressTestnet:"0xe3116Fe0b4526290c4231A59D2094605E581d8B6",mintAddressMainnet:"0xA8221890768603210c1a32d88374111084E46E6d",mintContract:null,networkName:"BNB Smart Chain",paused:!0,payTokenAddressTestnet:"0xD1d656845AD2a15934C314e46977554FFe85383E",payTokenAddressMainnet:"0x03a2A7E95eCe3112b8d33F9bCC21F0c9BA843e35",payTokenAllowance:0,payTokenBalance:0,payTokenContract:null,payTokenDecimals:4,payTokenName:"HUWA",tld:".huwa",tldAddressTestnet:"0x49651e70df13b8fd5684B0b82b1b3D7Cdc8cF80f",tldAddressMainnet:"0xeFBE0b46649B7A0F1e1D49CCa98aD9CF6bcFB096",tldContract:null,tldMainnet:".huwa",tldTestnet:".testhuwa",waiting:!1}},components:{Referral:pe},created(){this.setContracts()},computed:v(y({},g("network",["getBlockExplorerBaseUrl","getFallbackProvider"])),{domainLowerCase(){return this.chosenDomainName.toLowerCase()},hasEnoughAllowance(){return!!(this.address&&Number(this.payTokenBalance)>0&&Number(this.payTokenAllowance)>=Number(this.domainPrice))},hasUserEnoughTokens(){return!!(this.address&&Number(this.payTokenBalance)>0&&Number(this.payTokenBalance)>=Number(this.domainPrice))},isNetworkSupported(){if(this.isActivated){if(this.networkName.includes("Testnet")&&this.chainId===this.idTestnet)return!0;if(!this.networkName.includes("Testnet")&&this.chainId===this.idMainnet)return!0}return!1},selectedAllowanceTooLow(){return!(Number(this.chosenAllowance)>=Number(this.domainPrice))}}),methods:v(y({},H("user",["addDomainManually"])),{async approveTokens(){this.waiting=!0;let e;this.chainId===this.idMainnet?e=this.mintAddressMainnet:this.chainId===this.idTestnet&&(e=this.mintAddressTestnet);try{const n=await this.payTokenContract.approve(e,xe(String(this.chosenAllowance),this.payTokenDecimals)),i=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()});document.getElementById("approveTokenModal").click();const a=await n.wait();a.status===1?(this.toast.dismiss(i),this.toast("You have successfully set the allowance! Now proceed with buying the domain.",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.payTokenAllowance=Number(this.chosenAllowance),this.waiting=!1):(this.toast.dismiss(i),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(a),this.waiting=!1)}catch(n){console.log(n),this.waiting=!1,this.toast(n.message,{type:p.ERROR})}this.waiting=!1},async buyDomain(){this.waiting=!0;const e=this.domainLowerCase+this.tld.toLowerCase();if(await this.tldContract.getDomainHolder(this.domainLowerCase)!==N){this.toast("Sorry, but this domain name is already taken...",{type:p.ERROR}),this.waiting=!1;return}let i=this.mintAddressMainnet;this.chainId===this.idTestnet&&(i=this.mintAddressTestnet);const a=new b(Me);this.mintContract=new f(i,a,this.signer);try{let s=localStorage.getItem("referral");(!s||!$(s))&&(s=N);const o=await this.mintContract.mint(this.domainLowerCase,this.address,s),r=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),c=await o.wait();c.status===1?(this.toast.dismiss(r),this.toast("You have successfully bought a "+this.tld+" domain!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.setContracts(),this.addDomainManually(e),this.waiting=!1):(this.toast.dismiss(r),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(c),this.waiting=!1)}catch(s){console.log(s),this.waiting=!1,this.toast(s.message,{type:p.ERROR})}this.waiting=!1},changeNetwork(e){const n=this.switchNetwork(e);window.ethereum.request({method:n.method,params:n.params})},async fetchPaymentTokenData(){if(this.loading=!0,this.address){let e,n;if(this.chainId===this.idMainnet?(e=this.payTokenAddressMainnet,n=this.mintAddressMainnet):this.chainId===this.idTestnet&&(e=this.payTokenAddressTestnet,n=this.mintAddressTestnet),e){const i=new b(_e);this.payTokenContract=new f(e,i,this.signer);const a=await this.payTokenContract.allowance(this.address,n);this.payTokenAllowance=ue(a,this.payTokenDecimals),console.log("payTokenAllowance: "+this.payTokenAllowance);const s=await this.payTokenContract.balanceOf(this.address);this.payTokenBalance=ue(s,this.payTokenDecimals),console.log("payTokenBalance: "+this.payTokenBalance)}}this.loading=!1},async setContracts(){this.loading=!0;let e,n,i;this.networkName.includes("Testnet")?(e=this.getFallbackProvider(this.idTestnet),n=this.tldAddressTestnet,i=this.mintAddressTestnet,this.tld=this.tldTestnet):(e=this.getFallbackProvider(this.idMainnet),n=this.tldAddressMainnet,i=this.mintAddressMainnet,this.tld=this.tldMainnet),this.chainId===this.idMainnet?(e=this.getFallbackProvider(this.idMainnet),n=this.tldAddressMainnet,i=this.mintAddressMainnet,this.tld=this.tldMainnet):this.chainId===this.idTestnet&&(e=this.getFallbackProvider(this.idTestnet),n=this.tldAddressTestnet,i=this.mintAddressTestnet,this.tld=this.tldTestnet);const a=new b(Fe);this.tldContract=new f(n,a,e);const s=new b(Me);this.mintContract=new f(i,s,e);const o=await this.mintContract.price();this.domainPrice=ue(o,this.payTokenDecimals),this.paused=await this.mintContract.paused(),this.loading=!1,this.address&&this.fetchPaymentTokenData()}}),setup(){const{open:e}=X(),{address:n,chainId:i,isActivated:a,signer:s}=A(),o=F(),{buyNotValidFlexi:r}=ae(),{switchNetwork:c}=q();return{address:n,buyNotValidFlexi:r,chainId:i,isActivated:a,open:e,signer:s,switchNetwork:c,toast:o}},watch:{address(){this.fetchPaymentTokenData()},chainId(){this.setContracts()}}},re=e=>(D("data-v-7cb2dbb4"),e=e(),x(),e),Mi={class:"container text-center"},Fi={class:"mt-5"},Ui={class:"row mt-5"},Pi={class:"col-md-8 offset-md-2"},Ri=re(()=>t("a",{href:"https://discord.com/invite/jTHR6vAsSu",target:"_blank"},"the Huwa DAO community",-1)),$i=h(", and is powered by the Punk Domains protocol. "),Oi={class:"d-flex justify-content-center domain-input-container"},Li={class:"input-group mb-3 domain-input input-group-lg"},Hi={class:"input-group-text tld-addon"},Vi={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Wi={key:1},ji={key:0,class:"error"},Ki={class:"mt-4"},qi={key:1,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:"true"},Ji=re(()=>t("span",null,"Buying disabled",-1)),Yi=[Ji],Gi={key:2,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:"true"},Xi=["disabled"],zi={key:4,class:"mt-1"},Qi=re(()=>t("strong",null,"Important:",-1)),Zi=["disabled"],eo={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},to={key:1},no={key:2},so={key:6,class:"mt-4 buy-button"},ao={key:7,class:"mt-4 buy-button"},io={class:"modal fade",id:"approveTokenModal",tabindex:"-1","aria-labelledby":"approveTokenModalLabel","aria-hidden":"true","modal-dialog-centered":""},oo={class:"modal-dialog"},ro={class:"modal-content"},lo={class:"modal-header"},co={class:"modal-title",id:"approveTokenModalLabel"},uo=re(()=>t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),po={class:"modal-body"},mo={class:"mb-3"},ho=h(" Approval for "),yo={class:"modal-footer"},fo=["disabled"],bo={key:0},go={key:1},_o=re(()=>t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function wo(e,n,i,a,s,o){const r=C("Referral");return l(),d(M,null,[t("div",Mi,[t("h1",Fi,"Get yourself a "+m(s.tld)+" domain!",1),t("div",Ui,[t("div",Pi,[t("p",null,[h(m(s.tld)+" domain is the official domain of ",1),Ri,$i])])]),t("div",Oi,[t("div",Li,[S(t("input",{"onUpdate:modelValue":n[0]||(n[0]=c=>s.chosenDomainName=c),placeholder:"enter domain name",type:"text",class:"form-control text-end","aria-label":"Text input with dropdown button"},null,512),[[E,s.chosenDomainName]]),t("span",Hi,[s.loading?(l(),d("span",Vi)):u("",!0),s.loading?u("",!0):(l(),d("span",Wi,m(s.tld),1))])])]),a.buyNotValidFlexi(s.chosenDomainName).invalid?(l(),d("p",ji,[t("small",null,[t("em",null,m(a.buyNotValidFlexi(s.chosenDomainName).message),1)])])):u("",!0),t("p",Ki," Domain price: "+m(s.domainPrice)+" "+m(s.payTokenName),1),a.isActivated&&o.isNetworkSupported&&s.paused?(l(),d("button",qi,Yi)):u("",!0),a.isActivated&&o.isNetworkSupported&&!s.paused&&!o.hasUserEnoughTokens?(l(),d("button",Gi,[t("span",null,"Your "+m(s.payTokenName)+" balance is too low",1)])):u("",!0),a.isActivated&&o.isNetworkSupported&&!s.paused&&!o.hasEnoughAllowance&&o.hasUserEnoughTokens?(l(),d("button",{key:3,"data-bs-toggle":"modal","data-bs-target":"#approveTokenModal",class:"btn btn-primary btn-lg mt-3 buy-button",disabled:s.waiting||a.buyNotValidFlexi(s.chosenDomainName).invalid},[t("span",null,"Approve "+m(s.payTokenName),1)],8,Xi)):u("",!0),a.isActivated&&o.isNetworkSupported&&!s.paused&&!o.hasEnoughAllowance?(l(),d("p",zi,[t("small",null,[Qi,h(" You will need to complete 2 transactions: Approve "+m(s.payTokenName)+" + Buy Domain.",1)])])):u("",!0),a.isActivated&&!s.paused&&o.isNetworkSupported&&o.hasUserEnoughTokens&&o.hasEnoughAllowance?(l(),d("button",{key:5,class:"btn btn-primary btn-lg mt-3 buy-button",onClick:n[1]||(n[1]=(...c)=>o.buyDomain&&o.buyDomain(...c)),disabled:s.waiting||a.buyNotValidFlexi(s.chosenDomainName).invalid||s.paused||!s.canMint},[s.waiting?(l(),d("span",eo)):u("",!0),!s.paused&&s.canMint?(l(),d("span",to,"Buy domain")):u("",!0),!s.paused&&!s.canMint?(l(),d("span",no,"Not eligible")):u("",!0)],8,Zi)):u("",!0),a.isActivated?u("",!0):(l(),d("div",so,[t("button",{class:"btn btn-primary btn-lg",onClick:n[2]||(n[2]=(...c)=>a.open&&a.open(...c))},"Connect wallet")])),a.isActivated&&!o.isNetworkSupported?(l(),d("div",ao,[t("button",{class:"btn btn-primary btn-lg",onClick:n[3]||(n[3]=c=>o.changeNetwork(s.networkName))},"Switch to "+m(s.networkName),1)])):u("",!0)]),a.isActivated?(l(),de(r,{key:0,urlpath:"partners/huwa"})):u("",!0),t("div",io,[t("div",oo,[t("div",ro,[t("div",lo,[t("h5",co,"Approve "+m(s.payTokenName),1),uo]),t("div",po,[t("div",mo,[t("p",null," If you plan to mint multiple domains, consider giving the minting contract a higher "+m(s.payTokenName)+" approval. ",1),t("p",null," With each domain buy, the total approval amount is reduced by "+m(s.domainPrice)+" "+m(s.payTokenName)+". ",1),ho,S(t("input",{type:"text",id:"recipient-name","onUpdate:modelValue":n[4]||(n[4]=c=>s.chosenAllowance=c)},null,512),[[E,s.chosenAllowance]]),h(" "+m(s.payTokenName)+". ",1)])]),t("div",yo,[t("button",{type:"button",onClick:n[5]||(n[5]=(...c)=>o.approveTokens&&o.approveTokens(...c)),class:"btn btn-secondary",disabled:o.selectedAllowanceTooLow},[o.selectedAllowanceTooLow?u("",!0):(l(),d("span",bo,"Approve "+m(s.payTokenName),1)),o.selectedAllowanceTooLow?(l(),d("span",go,"Approval lower than domain price")):u("",!0)],8,fo),_o])])])])],64)}var vo=k(Ii,[["render",wo],["__scopeId","data-v-7cb2dbb4"]]),Ue=[{inputs:[{internalType:"address",name:"_tldAddress",type:"address"},{internalType:"uint256",name:"_refund",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"string",name:"domainName",type:"string"}],name:"RefundClaimed",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"canClaimRefund",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"domainName",type:"string"}],name:"claimRefund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string[]",name:"domainNames",type:"string[]"}],name:"claimRefundBulk",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"uint256",name:"tokenAmount_",type:"uint256"},{internalType:"address",name:"recipient_",type:"address"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"uint256",name:"tokenId_",type:"uint256"},{internalType:"address",name:"recipient_",type:"address"}],name:"recoverERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"refund",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tldContract",outputs:[{internalType:"contract PunkTLD",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"togglePaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];const ko={name:"UnstoppablePolygonRefund",data(){return{approved:!1,canClaim:!1,domains:null,domainPrice:null,loading:!1,paused:!0,refundAddress:null,tld:".polygon",refundContract:null,tldAddress:null,waiting:!1}},created(){this.setContracts()},computed:v(y({},g("network",["getBlockExplorerBaseUrl","getFallbackProvider"])),{domainLowerCase(){return this.chosenDomainName.toLowerCase()},isNetworkSupported(){return!!(this.isActivated&&(this.chainId===137||this.chainId===80001))}}),methods:v(y({},z("user",["removeDomainFromUserDomains"])),{approveOrBurnDomains(){this.approved?this.burnDomains():this.approveDomains()},async approveDomains(){this.waiting=!0;const e=new b(V),n=new f(this.tldAddress,e,this.signer);try{const i=await n.setApprovalForAll(this.refundAddress,!0),a=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have successfully approved domains! Now proceed with the Burn & Claim step.",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.approved=!0,this.waiting=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waiting=!1)}catch(i){console.log(i),this.waiting=!1,this.toast(i.message,{type:p.ERROR})}this.waiting=!1},async burnDomains(){this.waiting=!0;const i=this.domains.replace(/ /g,"").toLowerCase().replaceAll(this.tld,"").split(",");console.log(i);const a=new b(Ue),s=new f(this.refundAddress,a,this.signer);try{const o=await s.claimRefundBulk(i),r=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),c=await o.wait();if(c.status===1){this.toast.dismiss(r),this.toast("You have successfully claimed the refund!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()});for(let w of i)this.removeDomainFromUserDomains(w+this.tld);this.waiting=!1}else this.toast.dismiss(r),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(c),this.waiting=!1}catch(o){console.log(o),this.waiting=!1,this.toast(o.message,{type:p.ERROR})}this.waiting=!1},changeNetwork(e){const n=this.switchNetwork(e);window.ethereum.request({method:n.method,params:n.params})},async setContracts(){this.loading=!0;let e;if(this.chainId===137?(e=this.getFallbackProvider(137),this.tld=".polygon",this.tldAddress="0xBca24d86e4Ad1e011278FaEFc4fF191a731411EC",this.refundAddress=""):this.chainId===80001&&(e=this.getFallbackProvider(80001),this.tld=".polygontest",this.tldAddress="0xDEF098948F47F9Fbe80fF2D966c27965DFB47F26",this.refundAddress="0x1d28fFd63979165c779D80f319457250545217dA"),e){const n=new b(Ue);this.refundContract=new f(this.refundAddress,n,e);const i=await this.refundContract.paused();this.paused=i}if(this.address){const n=await this.refundContract.canClaimRefund(this.address);this.canClaim=n;const i=new b(V);this.tldContract=new f(this.tldAddress,i,e);const a=await this.tldContract.isApprovedForAll(this.address,this.refundAddress);this.approved=a}this.loading=!1}}),setup(){const{open:e}=X(),{address:n,chainId:i,isActivated:a,signer:s}=A(),o=F(),{switchNetwork:r}=q();return{address:n,chainId:i,isActivated:a,open:e,signer:s,switchNetwork:r,toast:o}},watch:{address(){this.setContracts()},chainId(){this.setContracts()}}},Pe=e=>(D("data-v-563b18e3"),e=e(),x(),e),To={class:"container text-center"},Co=Pe(()=>t("h1",{class:"mt-5"},".polygon Domain Refund",-1)),Do=Pe(()=>t("div",{class:"row mt-5"},[t("div",{class:"col-md-8 offset-md-2"},[t("p",null," In order to avoid domain collisions, Punk Domains .polygon TLD is shutting down. Each .polygon domain holder will receive 14 MATIC and $2000 in credits from Unstoppable Domains. "),t("p",null," Claim these benefits by sending your .polygon domain(s) to the burn contract using the form below. The refund of 14 MATIC will automatically be sent to you for each burned domain. "),t("p",null,[h(" After claiming this refund, submit "),t("a",{target:"_blank",href:"https://docs.google.com/forms/d/e/1FAIpQLSdAR7BND4o7axj0PsFfDQyFyd2EItKKnjJek3kqCYnUe9naBA/viewform"},"the Google Form here"),h(" to claim $2000 in UD credits. ")])])],-1)),xo={class:"d-flex justify-content-center domain-input-container"},Ao={class:"input-group mb-3 domain-input input-group-lg"},No=["disabled"],Bo={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},So={key:1},Eo={key:2},Io={key:3},Mo={key:4},Fo={key:1,class:"mb-2"},Uo={key:2,class:"mt-4 buy-button"},Po={key:3,class:"mt-4 buy-button"};function Ro(e,n,i,a,s,o){return l(),d("div",To,[Co,Do,t("div",xo,[t("div",Ao,[S(t("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>s.domains=r),placeholder:"enter domains (separate multiple domains with a comma)",type:"text",class:"form-control text-center"},null,512),[[E,s.domains]])])]),a.isActivated&&o.isNetworkSupported?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3 buy-button",onClick:n[1]||(n[1]=(...r)=>o.approveOrBurnDomains&&o.approveOrBurnDomains(...r)),disabled:s.waiting||s.paused||!s.canClaim},[s.waiting||s.loading?(l(),d("span",Bo)):u("",!0),!s.paused&&!s.loading&&s.canClaim&&s.approved?(l(),d("span",So,"Burn and claim refund")):u("",!0),!s.paused&&!s.loading&&s.canClaim&&!s.approved?(l(),d("span",Eo,"Approve domains")):u("",!0),s.paused?(l(),d("span",Io,"Paused")):u("",!0),!s.paused&&!s.canClaim?(l(),d("span",Mo,"Not eligible")):u("",!0)],8,No)):u("",!0),!s.paused&&!s.loading&&s.canClaim&&!s.approved?(l(),d("div",Fo," You will need to do two transactions: Approve + Claim ")):u("",!0),a.isActivated?u("",!0):(l(),d("div",Uo,[t("button",{class:"btn btn-primary btn-lg",onClick:n[2]||(n[2]=(...r)=>a.open&&a.open(...r))},"Connect wallet")])),a.isActivated&&!o.isNetworkSupported?(l(),d("div",Po,[t("button",{class:"btn btn-primary btn-lg",onClick:n[3]||(n[3]=r=>o.changeNetwork("Polygon"))},"Switch to Polygon")])):u("",!0)])}var $o=k(ko,[["render",Ro],["__scopeId","data-v-563b18e3"]]),Re=[{inputs:[{internalType:"address",name:"_nftAddress",type:"address"},{internalType:"address",name:"_tldAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"nftContract",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"uint256",name:"tokenAmount_",type:"uint256"},{internalType:"address",name:"recipient_",type:"address"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"uint256",name:"tokenId_",type:"uint256"},{internalType:"address",name:"recipient_",type:"address"}],name:"recoverERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tldContract",outputs:[{internalType:"contract IFlexiPunkTLD",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"togglePaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];const Oo={name:"WildBunch",data(){return{canMint:!1,chosenDomainName:null,domainPrice:null,idMainnet:1,idTestnet:421611,loading:!1,mintAddressTestnet:"0x6b5E4D2Bc94F356B3557AaEc35422d21FdcA66c9",mintAddressMainnet:"",mintContract:null,nftAddressTestnet:"0x247934a3Cd3293AB0B334F0c5571B6fF05d1Dc11",nftAddressMainnet:"0xe9A1a323b4c8FD5Ce6842edaa0cd8af943cBdf22",nftContract:null,networkName:"Arbitrum Testnet",paused:!0,tld:".wildbunch",tldAddressTestnet:"0xEEAEED736cc6A6e68CC2F62be19Cf7E06ad9E94A",tldAddressMainnet:"",tldContract:null,waiting:!1}},components:{Referral:pe},created(){this.setContracts()},computed:v(y({},g("network",["getBlockExplorerBaseUrl","getFallbackProvider"])),{domainLowerCase(){return this.chosenDomainName.toLowerCase()},isNetworkSupported(){return!!(this.isActivated&&this.chainId===421611)}}),methods:v(y({},H("user",["addDomainManually"])),{async buyDomain(){this.waiting=!0;const e=this.domainLowerCase+this.tld.toLowerCase();if(await this.tldContract.getDomainHolder(this.domainLowerCase)!==N){this.toast("Sorry, but this domain name is already taken...",{type:p.ERROR}),this.waiting=!1;return}let i=this.mintAddressMainnet;this.chainId===this.idTestnet&&(i=this.mintAddressTestnet);const a=new b(Re);this.mintContract=new f(i,a,this.signer);try{let s=localStorage.getItem("referral");(!s||!$(s))&&(s=N);const o=await this.mintContract.mint(this.domainLowerCase,this.address,s,{value:fe(this.domainPrice)}),r=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),c=await o.wait();c.status===1?(this.toast.dismiss(r),this.toast("You have successfully bought a "+this.tld+" domain!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.setContracts(),this.addDomainManually(e),this.waiting=!1):(this.toast.dismiss(r),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(c),this.waiting=!1)}catch(s){console.log(s),this.waiting=!1,this.toast(s.message,{type:p.ERROR})}this.waiting=!1},changeNetwork(e){const n=this.switchNetwork(e);window.ethereum.request({method:n.method,params:n.params})},async setContracts(){if(this.isNetworkSupported){this.loading=!0;let e=this.getFallbackProvider(this.idTestnet),n=this.tldAddressTestnet,i=this.mintAddressTestnet,a=this.nftAddressTestnet;this.tld=".twbtest",this.chainId===this.idMainnet&&(e=this.getFallbackProvider(this.idMainnet),n=this.tldAddressMainnet,i=this.mintAddressMainnet,a=this.nftAddressMainnet,this.tld=".wildbunch");const s=new b(Fe);this.tldContract=new f(n,s,e);const o=await this.tldContract.price();if(this.domainPrice=Q(o),this.address){const c=new b(["function balanceOf(address) external view returns (uint256)"]);this.nftContract=new f(a,c,e),await this.nftContract.balanceOf(this.address)>0&&(this.canMint=!0)}const r=new b(Re);this.mintContract=new f(i,r,e),this.paused=await this.mintContract.paused(),this.loading=!1}}}),setup(){const{open:e}=X(),{address:n,chainId:i,isActivated:a,signer:s}=A(),o=F(),{buyNotValidFlexi:r}=ae(),{switchNetwork:c}=q();return{address:n,buyNotValidFlexi:r,chainId:i,isActivated:a,open:e,signer:s,switchNetwork:c,toast:o}},watch:{address(){this.setContracts()},chainId(){this.setContracts()}}},Lo=e=>(D("data-v-bf9ad0c2"),e=e(),x(),e),Ho={class:"container text-center"},Vo={class:"mt-5"},Wo={class:"row mt-5"},jo={class:"col-md-8 offset-md-2"},Ko=Lo(()=>t("a",{href:"https://thewildbunch.io/",target:"_blank"},"The Wild Bunch NFT community",-1)),qo=h(", and is powered by the Punk Domains protocol. "),Jo={class:"d-flex justify-content-center domain-input-container"},Yo={class:"input-group mb-3 domain-input input-group-lg"},Go={class:"input-group-text tld-addon"},Xo={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},zo={key:1},Qo={key:0,class:"error"},Zo={class:"mt-4"},er=["disabled"],tr={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},nr={key:1},sr={key:2},ar={key:3},ir={key:2,class:"mt-4 buy-button"},or={key:3,class:"mt-4 buy-button"};function rr(e,n,i,a,s,o){const r=C("Referral");return l(),d(M,null,[t("div",Ho,[t("h1",Vo,"Get yourself a "+m(s.tld)+" domain!",1),t("div",Wo,[t("div",jo,[t("p",null,[h(m(s.tld)+" domain is the official domain of ",1),Ko,qo])])]),t("div",Jo,[t("div",Yo,[S(t("input",{"onUpdate:modelValue":n[0]||(n[0]=c=>s.chosenDomainName=c),placeholder:"enter domain name",type:"text",class:"form-control text-end","aria-label":"Text input with dropdown button"},null,512),[[E,s.chosenDomainName]]),t("span",Go,[s.loading?(l(),d("span",Xo)):u("",!0),s.loading?u("",!0):(l(),d("span",zo,m(s.tld),1))])])]),a.buyNotValidFlexi(s.chosenDomainName).invalid?(l(),d("p",Qo,[t("small",null,[t("em",null,m(a.buyNotValidFlexi(s.chosenDomainName).message),1)])])):u("",!0),t("p",Zo," Domain price: "+m(s.domainPrice)+" ETH ",1),a.isActivated&&o.isNetworkSupported?(l(),d("button",{key:1,class:"btn btn-primary btn-lg mt-3 buy-button",onClick:n[1]||(n[1]=(...c)=>o.buyDomain&&o.buyDomain(...c)),disabled:s.waiting||a.buyNotValidFlexi(s.chosenDomainName).invalid||s.paused||!s.canMint},[s.waiting?(l(),d("span",tr)):u("",!0),!s.paused&&s.canMint?(l(),d("span",nr,"Buy domain")):u("",!0),!s.paused&&!s.canMint?(l(),d("span",sr,"Not eligible")):u("",!0),s.paused?(l(),d("span",ar,"Buying disabled")):u("",!0)],8,er)):u("",!0),a.isActivated?u("",!0):(l(),d("div",ir,[t("button",{class:"btn btn-primary btn-lg",onClick:n[2]||(n[2]=(...c)=>a.open&&a.open(...c))},"Connect wallet")])),a.isActivated&&!o.isNetworkSupported?(l(),d("div",or,[t("button",{class:"btn btn-primary btn-lg",onClick:n[3]||(n[3]=c=>o.changeNetwork(s.networkName))},"Switch to "+m(s.networkName),1)])):u("",!0)]),a.isActivated?(l(),de(r,{key:0,urlpath:"partners/wildbunch"})):u("",!0)],64)}var lr=k(Oo,[["render",rr],["__scopeId","data-v-bf9ad0c2"]]);const dr={name:"MyDomain",props:["domain"],computed:y(y({},g("network",["getChainId"])),g("user",["getUserSelectedName"])),methods:v(y(y({},z("user",["fetchSelectedNameData"])),H("user",["setSelectedName"])),{setAsMainName(){this.setSelectedName(this.domain),this.fetchSelectedNameData()}})},cr=e=>(D("data-v-50d96b92"),e=e(),x(),e),ur={key:0},pr=cr(()=>t("i",{class:"bi bi-check2-circle"},null,-1)),mr=h(" Default "),hr=[pr,mr];function yr(e,n,i,a,s,o){return l(),d(M,null,[t("td",null,[t("span",null,m(i.domain),1)]),t("td",null,[t("span",{class:"text-click",onClick:n[0]||(n[0]=r=>this.$router.push({name:"DomainDetails",params:{domainChain:e.getChainId,tld:i.domain.split(".")[1],domainName:i.domain.split(".")[0]}}))}," Edit domain data ")]),t("td",null,[t("span",{class:"text-click",onClick:n[1]||(n[1]=r=>this.$router.push({name:"TransferDomain",params:{tld:i.domain.split(".")[1],domainName:i.domain.split(".")[0]}}))}," Transfer domain ")]),t("td",null,[e.getUserSelectedName===i.domain?(l(),d("span",ur,hr)):(l(),d("span",{key:1,class:"text-click",onClick:n[2]||(n[2]=(...r)=>o.setAsMainName&&o.setAsMainName(...r))}," Set as main name "))])],64)}var fr=k(dr,[["render",yr],["__scopeId","data-v-50d96b92"]]);const br={name:"Profile",data(){return{existingDomain:null}},components:{MyDomain:fr,Referral:pe,Sidebar:ee},computed:v(y(y(y({},g("user",["getUserAddress","getUserBalance","getUserAllDomainNames","getUserSelectedNameData"])),g("network",["getNetworkCurrency"])),g("punk",["getTlds","getTldAddresses","getTldAbi"])),{customData(){if(this.getUserSelectedNameData)try{return JSON.parse(this.getUserSelectedNameData.data)}catch{return null}return null},domainNotValid(){if(this.existingDomain==="")return!0;if(this.existingDomain===null)return!0;if(this.existingDomain.split(".").length!=2)return!0;if(this.existingDomain.includes(" "))return!0;if(this.existingDomain.includes("%"))return!0;if(this.existingDomain.includes("&"))return!0;if(this.existingDomain.includes("?"))return!0;if(this.existingDomain.includes("#"))return!0}}),methods:v(y({},H("user",["addDomainManually"])),{async addExistingDomain(){const e=this.existingDomain.toLowerCase(),n=e.split("."),i=await this.getTldAddresses["."+n[1]];if(i!==N){const a=new b(this.getTldAbi),o=await new f(i,a,this.signer).getDomainHolder(n[0]);String(o)===String(this.address)?(this.addDomainManually(e),this.toast("Domain successfully added.",{type:p.SUCCESS})):this.toast("This domain is not owned by your currently connected address.",{type:p.ERROR})}else this.toast("This TLD does not exist.",{type:p.ERROR})}}),setup(){const{address:e,isActivated:n,signer:i}=A(),a=F();return{address:e,isActivated:n,signer:i,toast:a}}},Y=e=>(D("data-v-6dc2c932"),e=e(),x(),e),gr={class:"row"},_r={class:"col-md-3",id:"sidebar-container"},wr={class:"col-md-9"},vr={key:0,class:"row"},kr=ye('<div class="col-md-12 mb-3" data-v-6dc2c932><div class="container text-center" data-v-6dc2c932><h3 data-v-6dc2c932><i class="bi bi-exclamation-triangle" data-v-6dc2c932></i> Not connected <i class="bi bi-exclamation-triangle" data-v-6dc2c932></i></h3><p class="text-break" data-v-6dc2c932> Please connect with your wallet to see your profile data. </p></div></div>',1),Tr=[kr],Cr={key:1,class:"row"},Dr={class:"col-md-6 mb-3"},xr={class:"container text-center"},Ar=Y(()=>t("h3",null,"Address",-1)),Nr={class:"text-break"},Br={class:"col-md-6 mb-3"},Sr={class:"container text-center"},Er=Y(()=>t("h3",null,"Balance",-1)),Ir={class:"text-break"},Mr={class:"row"},Fr={class:"col-md-12"},Ur={class:"container"},Pr=Y(()=>t("h3",null,"Domains",-1)),Rr={class:"table table-hover mt-4 mb-4"},$r={key:0},Or=Y(()=>t("small",null,[t("em",null,[h(" Don't see your domain here? "),t("span",{class:"span-link","data-bs-toggle":"modal","data-bs-target":"#addDomainModal"}," Add it manually"),h(". ")])],-1)),Lr=[Or],Hr={key:1},Vr=h(" No domain? No worries, "),Wr=h("buy yourself one here!"),jr={class:"modal fade",id:"addDomainModal",tabindex:"-1","aria-labelledby":"addDomainModalLabel","aria-hidden":"true","modal-dialog-centered":""},Kr={class:"modal-dialog"},qr={class:"modal-content"},Jr=Y(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"addDomainModalLabel"},"Add your existing domain"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Yr={class:"modal-body"},Gr={class:"mb-3"},Xr=Y(()=>t("label",{for:"recipient-name",class:"col-form-label"},"Enter your existing domain:",-1)),zr=Y(()=>t("small",null,[t("em",null,"No transaction will be made, this is a free query.")],-1)),Qr={class:"modal-footer"},Zr=["disabled"],el=Y(()=>t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function tl(e,n,i,a,s,o){const r=C("Sidebar"),c=C("MyDomain"),w=C("router-link"),R=C("Referral");return l(),d(M,null,[t("div",gr,[t("div",_r,[_(r)]),t("div",wr,[a.isActivated?u("",!0):(l(),d("div",vr,Tr)),a.isActivated?(l(),d("div",Cr,[t("div",Dr,[t("div",xr,[Ar,t("p",Nr,m(e.getUserAddress),1)])]),t("div",Br,[t("div",Sr,[Er,t("p",Ir,m(e.getUserBalance)+" "+m(e.getNetworkCurrency),1)])])])):u("",!0),t("div",Mr,[t("div",Fr,[t("div",Ur,[Pr,t("table",Rr,[t("tbody",null,[(l(!0),d(M,null,j(e.getUserAllDomainNames,I=>(l(),d("tr",null,[_(c,{domain:I},null,8,["domain"])]))),256))])]),e.getUserSelectedNameData?(l(),d("p",$r,Lr)):(l(),d("p",Hr,[Vr,_(w,{to:"/"},{default:B(()=>[Wr]),_:1})]))])])]),_(R)])]),t("div",jr,[t("div",Kr,[t("div",qr,[Jr,t("div",Yr,[t("div",Gr,[Xr,S(t("input",{type:"text",class:"form-control",id:"recipient-name","onUpdate:modelValue":n[0]||(n[0]=I=>s.existingDomain=I)},null,512),[[E,s.existingDomain]]),zr])]),t("div",Qr,[t("button",{type:"button",onClick:n[1]||(n[1]=(...I)=>o.addExistingDomain&&o.addExistingDomain(...I)),class:"btn btn-secondary",disabled:o.domainNotValid},"Add domain",8,Zr),el])])])])],64)}var nl=k(br,[["render",tl],["__scopeId","data-v-6dc2c932"]]),$e=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"UserJoinWhitelist",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"expectedAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"isWhitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"joinWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_addresses",type:"address[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"}],name:"ownerAddToWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"togglePaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAddresses",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"whitelistedAddresses",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],sl="/assets/angels.09194aaf.gif";const al={name:"PunkAngelNft",data(){return{amount:1,errorMsg:null,loading:!1,paused:!0,waiting:!1}},created(){this.checkPaused()},computed:v(y({},g("network",["getBlockExplorerBaseUrl"])),{getContractAddress(){return this.chainId===10?"0xa562fD780b05B4c6d895ba78D5519Ddf0a5d25D6":this.chainId===100?"0xC08214D6F73D8F5D06e515862D4A528090f142F5":this.chainId===137?"0x35dFE8d11466649204aa4A3aa0463541b28ee6Bb":this.chainId===42161?"0x03bdc5B2EA8176693c25BE1d999900a4FD1CaC59":this.chainId===80001?"0x7d7143649d8ca8f4BB10A4C43Cd03255E2eB060c":null},notValid(){return this.amount<1||this.amount>100?(this.errorMsg="Amount should be between 1 and 100",!0):isNaN(this.amount)?(this.errorMsg="Amount must be a number",!0):(this.errorMsg="",!1)}}),methods:{async joinWaitlist(){this.waiting=!0;const e=Number(this.amount)*500,n=new b($e),i=new f(this.getContractAddress,n,this.signer);try{const a=await i.joinWhitelist(e),s=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),o=await a.wait();o.status===1?(this.toast.dismiss(s),this.toast("You have successfully joined the whitelist!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),this.waiting=!1):(this.toast.dismiss(s),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),console.log(o),this.waiting=!1)}catch(a){console.log(a),this.waiting=!1,this.toast(a.message,{type:p.ERROR})}this.waiting=!1},async checkPaused(){if(this.isActivated){this.loading=!0;const e=new b($e),n=new f(this.getContractAddress,e,this.signer);this.paused=await n.paused(),this.loading=!1}}},setup(){const{open:e}=X(),{address:n,chainId:i,isActivated:a,signer:s}=A(),o=F();return{address:n,chainId:i,isActivated:a,open:e,signer:s,toast:o}},watch:{chainId(){this.checkPaused()}}},we=e=>(D("data-v-2fbd7519"),e=e(),x(),e),il={class:"container text-center"},ol=we(()=>t("h1",{class:"mt-5"},"Get whitelisted for the Punk Angel NFT mint!",-1)),rl=we(()=>t("div",{class:"row mt-5"},[t("div",{class:"col-md-8 offset-md-2"},[t("p",null,[t("img",{class:"img-fluid angel-img",src:sl})])])],-1)),ll=we(()=>t("div",{class:"row mt-2"},[t("div",{class:"col-md-8 offset-md-2"},[t("h3",{class:"mt-5"},"Wen NFT mint?"),t("p",null,"Soon. But before that, you can whitelist your address to be able to mint before everyone else."),t("h3",{class:"mt-5"},"NFT price?"),t("p",null,"$69 per NFT (max supply: 8888 NFTs)."),t("h3",{class:"mt-5"},"What will the funds be used for?"),t("p",null,[h(" To grow the Punk Domains team, expand our marketing operations, get more DAO partnerships, and build cool new features which will make Punk Domains a major web3 domains protocol. See "),t("a",{target:"_blank",href:"https://docs.punk.domains/roadmap/"},"our roadmap here"),h("! ")]),t("a",{target:"_blank",href:"https://forms.gle/RK1zww1Ae5MBLBwZA",class:"btn btn-primary btn-lg mt-4 mb-5"}," Join Waitlist ")])],-1)),dl=[ol,rl,ll];function cl(e,n,i,a,s,o){return l(),d("div",il,dl)}var ul=k(al,[["render",cl],["__scopeId","data-v-2fbd7519"]]),pl={"10":"0xF20fc12a4955c9d47194B8fEd591Fe01777D2b06","56":"0x4aBf8b364ac4aF048Ea077AAA2EDF3e1e1EC0f9c","69":"0xa1303d259B87f044404536638E2784DEe897B402","77":"0x7A84e7f48DCe4ab212c3511eC5ade0982eaBa8c4","100":"0x7Df67B2ef4eEDf49Fc53Bb6E94e90e9546FC6c6B","137":"0x07884566cdED43eDaec7813C1523624202b060D3","42161":"0xd64A2DF9d73CD1Cb50139A3eC3176070e00C67cA","80001":"0xC17E9347Ce26D7630A98eC4158Bd7200E54bf4Cd","421611":"0xe2b9bC4c1d65B5F5583144d9d5c5F0683158C372"},ml={name:"SearchDomains",components:{Sidebar:ee},data(){return{query:null,waiting:!1}},computed:v(y({},g("network",["getFallbackProvider"])),{domainLowerCase(){return this.query.toLowerCase()},notValid(){if(this.query)if(this.query.includes(".")){if(this.query.includes(" "))return!0;if(this.query.includes("%"))return!0;if(this.query.includes("&"))return!0;if(this.query.includes("?"))return!0;if(this.query.includes("#"))return!0;if(this.query.includes("/"))return!0}else return!0;else return!0;return!1}}),methods:{async findDomain(){if(this.waiting=!0,this.domainLowerCase&&this.domainLowerCase.split(".").length===2){const e=this.domainLowerCase.split(".");for(let n in P)if(P[n]["."+e[1]]){const i=this.getFallbackProvider(Number(n)),a=new b(["function getDomainHolder(string calldata _domainName, string calldata _tld) public view returns(address)"]);if(await new f(pl[n],a,i).getDomainHolder(e[0],"."+e[1])!==N){this.$router.push({name:"DomainDetails",params:{domainChain:n,tld:e[1],domainName:e[0]}});return}else{let r="This domain name has not been registered yet.";(e[1].toLowerCase()==="web3"||e[1].toLowerCase()==="polygon")&&(r="TLD ."+e[1].toLowerCase()+" has been deprecated."),this.toast(r,{type:p.INFO}),this.waiting=!1;return}}this.toast("Top-level domain ."+e[1]+" does not exist (if this is a mistake, contact us on Discord).",{type:p.ERROR}),this.waiting=!1;return}else{this.toast("This is not a valid domain.",{type:p.ERROR}),this.waiting=!1;return}}},setup(){return{toast:F()}}};const hl={class:"row"},yl={class:"col-md-3",id:"sidebar-container"},fl={class:"col-md-9"},bl={class:"row"},gl={class:"col-md-12 mb-3"},_l={class:"container text-center"},wl=t("h3",null,"Find an existing domain",-1),vl={class:"row mt-5"},kl={class:"col-md-6 offset-md-3"},Tl=["disabled"],Cl={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Dl=h(" Search ");function xl(e,n){const i=C("Sidebar");return l(),d("div",hl,[t("div",yl,[_(i)]),t("div",fl,[t("div",bl,[t("div",gl,[t("div",_l,[wl,t("div",vl,[t("div",kl,[S(t("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>e.query=a),class:"form-control text-center",placeholder:"Enter a domain name",onKeyup:n[1]||(n[1]=Xe((...a)=>e.findDomain&&e.findDomain(...a),["enter"]))},null,544),[[E,e.query]])])]),t("button",{class:"btn btn-primary mt-3 mb-5",onClick:n[2]||(n[2]=(...a)=>e.findDomain&&e.findDomain(...a)),disabled:e.waiting||e.notValid},[e.waiting?(l(),d("span",Cl)):u("",!0),Dl],8,Tl)])])])])])}var Al=k(ml,[["render",xl]]);const Nl={name:"SendTokens",components:{Sidebar:ee},data(){return{domainError:null,filterTokens:null,receiver:null,receiverAddress:null,tokenBalance:0,selectedToken:null,selectedTokenDecimals:null,tokenAmount:null,waiting:!1,validating:!1}},created(){this.getChainId>=1&&(this.selectedToken=Object.keys(this.getTokens)[0],this.tokenBalance=Q(this.balance))},computed:v(y(y(y({},g("network",["getBlockExplorerBaseUrl","getChainId","getFallbackProvider","getNetworkName","getTokens"])),g("user",["getUserBalance"])),g("punk",["getTldAddresses","getTldAbi"])),{domainLowerCase(){return this.receiver?this.receiver.toLowerCase():null},formatTokenBalance(){return this.tokenBalance>100?Number(this.tokenBalance).toFixed(2):Number(this.tokenBalance).toFixed(4)},getTokenNames(){if(this.getTokens&&!this.filterTokens)return Object.keys(this.getTokens);if(this.getTokens&&this.filterTokens)return Object.keys(this.getTokens).filter(e=>e.includes(this.filterTokens.toUpperCase()))},notValid(){if(this.receiver)if(this.receiver.includes(".")){if(this.receiver.includes(" "))return!0;if(this.receiver.includes("%"))return!0;if(this.receiver.includes("&"))return!0;if(this.receiver.includes("?"))return!0;if(this.receiver.includes("#"))return!0;if(this.receiver.includes("/"))return!0;if(this.tokenAmount){if(isNaN(this.tokenAmount))return!0;if(Number(this.tokenAmount)<=0)return!0;if(Number(this.tokenAmount)>Number(this.tokenBalance))return!0}else return!0}else return!0;else return!0;return!1}}),methods:{async getTokenBalance(e){const n=this.getTokens[e];if(n==="0x0")this.tokenBalance=Q(this.balance);else{const i=new b(_e),a=new f(n,i,this.signer),s=await a.balanceOf(this.address);if(Number(s)>0){const o=await a.decimals();this.selectedTokenDecimals=Number(o),this.tokenBalance=ue(s,this.selectedTokenDecimals)}else this.tokenBalance=0}},selectToken(e){this.selectedToken=e,this.getTokenBalance(e)},send(){this.getTokens[this.selectedToken]==="0x0"?this.sendNativeTokens():this.sendErc20Tokens()},async sendErc20Tokens(){this.waiting=!0;try{const e=this.selectedToken,n=this.tokenAmount,i=this.domainLowerCase,a=xe(n,this.selectedTokenDecimals),s=this.getTokens[e],o=new b(_e),c=await new f(s,o,this.signer).transfer(this.receiverAddress,a);document.getElementById("closeSendModal").click();const w=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+c.hash,"_blank").focus()}),R=await c.wait();R.status===1?(this.toast.dismiss(w),this.toast("You have successfully sent "+n+" "+e+" to "+i+"!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+c.hash,"_blank").focus()}),this.waiting=!1,this.getTokenBalance(e)):(this.toast.dismiss(w),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+c.hash,"_blank").focus()}),console.log(R),this.waiting=!1)}catch(e){this.waiting=!1,console.log(e),this.toast(e.message,{type:p.ERROR})}},async sendNativeTokens(){this.waiting=!0;try{const e=this.selectedToken,n=this.tokenAmount,i=this.domainLowerCase,a=fe(n),s=await this.signer.sendTransaction({to:this.receiverAddress,value:a});document.getElementById("closeSendModal").click();const o=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+s.hash,"_blank").focus()}),r=await s.wait();r.status===1?(this.toast.dismiss(o),this.toast("You have successfully sent "+n+" "+e+" to "+i+"!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+s.hash,"_blank").focus()}),this.waiting=!1,this.getTokenBalance(e)):(this.toast.dismiss(o),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+s.hash,"_blank").focus()}),console.log(r),this.waiting=!1)}catch(e){this.waiting=!1,console.log(e),this.toast(e.message,{type:p.ERROR})}},async validateDomainName(){this.validating=!0,this.domainError=null,this.receiverAddress=null;const e=new b(V);try{if(this.domainLowerCase&&this.domainLowerCase.split(".").length===2){const n=this.domainLowerCase.split(".");for(let i in P)if(P[i]["."+n[1]]){const a=this.getFallbackProvider(Number(i)),o=await new f(P[i]["."+n[1]],e,a).getDomainHolder(n[0]);if(o!==N){this.receiverAddress=o,this.validating=!1;return}else{this.domainError="This domain name has not been registered yet.",this.validating=!1;return}break}if(!$(this.recipient)){this.domainError="This TLD does not exist.",this.validating=!1;return}}}catch{this.domainError="You have entered an incorrect domain.",this.validating=!1;return}}},setup(){const{address:e,balance:n,signer:i}=A(),a=F();return{address:e,balance:n,signer:i,toast:a}},watch:{getChainId(){this.getChainId>=1&&(this.selectedToken=Object.keys(this.getTokens)[0],this.tokenBalance=this.getUserBalance)},address(){this.getTokenBalance(this.selectedToken)}}},G=e=>(D("data-v-3f4881a0"),e=e(),x(),e),Bl={class:"row"},Sl={class:"col-md-3",id:"sidebar-container"},El={class:"col-md-9"},Il={class:"row"},Ml={class:"col-md-12 mb-3"},Fl={class:"container text-center"},Ul=G(()=>t("h3",null,"Send tokens to a domain",-1)),Pl={class:"row mt-5"},Rl={class:"col-md-6 offset-md-3"},$l={class:"row mt-4"},Ol={class:"col-md-4 offset-md-4"},Ll={class:"input-group"},Hl={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Vl={class:"dropdown-menu p-2"},Wl={class:"mb-3"},jl=["onClick"],Kl=h(" Balance: "),ql=["disabled"],Jl={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Yl=h(" Send tokens "),Gl={class:"modal fade text-start",id:"sendTokensModal",tabindex:"-1","aria-labelledby":"sendTokensModalLabel","aria-hidden":"true"},Xl={class:"modal-dialog modal-dialog-centered"},zl={class:"modal-content"},Ql={class:"modal-header"},Zl={class:"modal-title",id:"sendTokensModalLabel"},ed=G(()=>t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),td={class:"modal-body"},nd={class:"row mb-3 mt-4"},sd=G(()=>t("div",{class:"col-sm-3"},[t("strong",null,"Recipient")],-1)),ad={class:"col-sm-9"},id={key:0,class:"domain-error"},od={key:0,class:"row mb-3 mt-2"},rd=G(()=>t("div",{class:"col-sm-3"},[t("strong",null,"Recipient address")],-1)),ld={class:"col-sm-9"},dd={class:"text-break"},cd={key:0,class:"domain-error"},ud={class:"row mb-3 mt-2"},pd=G(()=>t("div",{class:"col-sm-3"},[t("strong",null,"Amount")],-1)),md={class:"col-sm-9"},hd={class:"text-break"},yd={key:1,class:"row mb-3 mt-2"},fd=G(()=>t("div",{class:"col-sm-3"},[t("strong",null,"Token address")],-1)),bd={class:"col-sm-9"},gd={class:"text-break"},_d={class:"row mb-3 mt-2"},wd=G(()=>t("div",{class:"col-sm-3"},[t("strong",null,"Network")],-1)),vd={class:"col-sm-9"},kd={class:"text-break"},Td={class:"modal-footer"},Cd=["disabled"],Dd={key:0},xd={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Ad={key:2},Nd=G(()=>t("button",{id:"closeSendModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Bd(e,n,i,a,s,o){const r=C("Sidebar");return l(),d(M,null,[t("div",Bl,[t("div",Sl,[_(r)]),t("div",El,[t("div",Il,[t("div",Ml,[t("div",Fl,[Ul,t("div",Pl,[t("div",Rl,[S(t("input",{"onUpdate:modelValue":n[0]||(n[0]=c=>s.receiver=c),class:"form-control text-center",placeholder:"Enter the receiver's domain name"},null,512),[[E,s.receiver]])])]),t("div",$l,[t("div",Ol,[t("div",Ll,[S(t("input",{type:"text",class:"form-control text-end","onUpdate:modelValue":n[1]||(n[1]=c=>s.tokenAmount=c),placeholder:"0.0"},null,512),[[E,s.tokenAmount]]),t("button",Hl,m(s.selectedToken),1),t("div",Vl,[t("div",Wl,[S(t("input",{class:"form-control mb-2",placeholder:"Filter tokens","onUpdate:modelValue":n[2]||(n[2]=c=>s.filterTokens=c)},null,512),[[E,s.filterTokens]]),t("li",null,[(l(!0),d(M,null,j(o.getTokenNames,c=>(l(),d("button",{class:"dropdown-item",type:"button",onClick:w=>o.selectToken(c)},m(c),9,jl))),256))])])])]),t("small",null,[Kl,t("span",{id:"balance",onClick:n[3]||(n[3]=c=>s.tokenAmount=s.tokenBalance)},m(o.formatTokenBalance)+" "+m(s.selectedToken),1)])])]),t("button",{class:"btn btn-primary mt-4 mb-5",disabled:o.notValid||s.waiting,onClick:n[4]||(n[4]=(...c)=>o.validateDomainName&&o.validateDomainName(...c)),"data-bs-toggle":"modal","data-bs-target":"#sendTokensModal"},[s.waiting?(l(),d("span",Jl)):u("",!0),Yl],8,ql)])])])])]),t("div",Gl,[t("div",Xl,[t("div",zl,[t("div",Ql,[t("h5",Zl,"Confirm sending "+m(s.selectedToken),1),ed]),t("div",td,[t("p",null," Please review the data before you send "+m(s.selectedToken)+" to "+m(o.domainLowerCase)+". ",1),t("div",nd,[sd,t("div",ad,[t("span",null,m(o.domainLowerCase),1),s.domainError?(l(),d("span",id,"Error: "+m(s.domainError),1)):u("",!0)])]),s.receiverAddress?(l(),d("div",od,[rd,t("div",ld,[t("span",dd,m(s.receiverAddress),1),s.receiverAddress==a.address?(l(),d("span",cd,"Error: You are sending tokens to yourself.")):u("",!0)])])):u("",!0),t("div",ud,[pd,t("div",md,[t("span",hd,m(s.tokenAmount)+" "+m(s.selectedToken),1)])]),e.getTokens[s.selectedToken]!=="0x0"?(l(),d("div",yd,[fd,t("div",bd,[t("span",gd,m(e.getTokens[s.selectedToken]),1)])])):u("",!0),t("div",_d,[wd,t("div",vd,[t("span",kd,m(e.getNetworkName),1)])])]),t("div",Td,[t("button",{type:"button",class:"btn btn-secondary",onClick:n[5]||(n[5]=(...c)=>o.send&&o.send(...c)),disabled:s.waiting||s.domainError||s.validating},[s.validating?(l(),d("span",Dd,"Validating...")):u("",!0),s.validating?(l(),d("span",xd)):u("",!0),s.validating?u("",!0):(l(),d("span",Ad,"Send "+m(s.selectedToken),1))],8,Cd),Nd])])])])],64)}var Sd=k(Nl,[["render",Bd],["__scopeId","data-v-3f4881a0"]]);const Ed={name:"TldBuy",data(){return{chosenTldName:null}},methods:{parseValue(e){if(e)return Q(e)}},setup(){const{address:e,isActivated:n,signer:i}=A(),a=F(),{tldBuyNotValid:s}=ae();return{address:e,isActivated:n,displayEther:ce,signer:i,tldBuyNotValid:s,toast:a}}},Oe=e=>(D("data-v-4c64725b"),e=e(),x(),e),Id={class:"container text-center"},Md=Oe(()=>t("h1",{class:"text-center"},"Buy a top-level domain",-1)),Fd={class:"row mt-3"},Ud={class:"col-md-8 offset-md-2"},Pd=Oe(()=>t("p",{class:"text-center"}," Punk Domains protocol allows anyone to create and own a top-level domain. As a TLD holder you have complete control over it and you earn revenue from selling domains. ",-1)),Rd={class:"d-flex justify-content-center domain-input-container mt-5"},$d={class:"input-group mb-3 domain-input input-group-lg"},Od={class:"mt-3 text-center"},Ld=["disabled"],Hd={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Vd={key:1},Wd={key:2},jd={key:0,class:"error text-center mt-2"};function Kd(e,n,i,a,s,o){return l(),d("div",Id,[Md,t("div",Fd,[t("div",Ud,[Pd,t("div",Rd,[t("div",$d,[S(t("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>s.chosenTldName=r),placeholder:"enter top-level domain to buy",type:"text",class:"form-control text-center"},null,512),[[E,s.chosenTldName]])])]),t("p",Od," Domain price: "+m(this.parseValue(this.selectedPrice))+" "+m(e.getNetworkCurrency),1),t("button",{class:"btn btn-primary btn-lg mt-1 buy-button",onClick:n[1]||(n[1]=(...r)=>e.buyDomain&&e.buyDomain(...r)),disabled:e.waiting||a.tldBuyNotValid(s.chosenTldName).invalid},[e.waiting?(l(),d("span",Hd)):u("",!0),s.chosenTldName?u("",!0):(l(),d("span",Vd,"Buy TLD")),s.chosenTldName?(l(),d("span",Wd,"Buy "+m(s.chosenTldName)+"!",1)):u("",!0)],8,Ld),a.tldBuyNotValid(s.chosenTldName).invalid?(l(),d("p",jd,[t("small",null,[t("em",null,m(a.tldBuyNotValid(s.chosenTldName).message),1)])])):u("",!0)])])])}var qd=k(Ed,[["render",Kd],["__scopeId","data-v-4c64725b"]]);const Jd={name:"TldDetails",props:["tldChain","tld"],data(){return{canBuy:!1,chosenDomainName:null,chosenDomainNameFree:null,freeDomainReceiver:null,selectedPrice:null,tldContract:null,tldOwner:null,waiting:!1,waitingFree:!1,waitingSale:!1}},created(){this.isActivated&&this.fetchData()},computed:v(y(y({},g("network",["getBlockExplorerBaseUrl","getNetworkCurrency"])),g("punk",["getTldAddresses","getDomainPrices","getTldAbi"])),{domainLowerCase(){return this.chosenDomainName.toLowerCase()},domainLowerCaseFree(){return this.chosenDomainNameFree.toLowerCase()}}),methods:v(y(y({},z("punk",["fetchTlds"])),H("user",["addDomainManually"])),{async buyDomain(){this.waiting=!0;const e=this.domainLowerCase+"."+this.tld;if(this.tldContract||this.setContract(),this.tldContract&&await this.tldContract.getDomainHolder(this.domainLowerCase)!==N){this.toast("Sorry, but this domain name is already taken...",{type:p.ERROR}),this.waiting=!1;return}try{let n=localStorage.getItem("referral");(!n||!$(n))&&(n=N);const i=await this.tldContract.mint(this.domainLowerCase,this.address,n,{value:String(this.selectedPrice)}),a=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),s=await i.wait();s.status===1?(this.toast.dismiss(a),this.toast("You have successfully bought the domain!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.fetchTlds(),this.addDomainManually(e),this.waiting=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(s),this.waiting=!1)}catch(n){console.log(n),this.waiting=!1,this.toast(n.message,{type:p.ERROR})}this.waiting=!1},async fetchData(){this.tldContract||this.setContract(),this.tldContract&&(this.canBuy=await this.tldContract.buyingEnabled(),this.selectedPrice=this.getDomainPrices["."+this.tld],this.tldOwner=await this.tldContract.owner())},async ownerMintDomain(){this.waitingFree=!0;const e=this.domainLowerCaseFree+"."+this.tld,n=this.freeDomainReceiver;if(this.tldContract||this.setContract(),this.tldContract&&await this.tldContract.getDomainHolder(this.domainLowerCaseFree)!==N){this.toast("Sorry, but this domain name is already taken...",{type:p.ERROR}),this.waitingFree=!1;return}try{let i=localStorage.getItem("referral");(!i||!$(i))&&(i=N);const a=await this.tldContract.mint(this.domainLowerCaseFree,n,i,{value:String(this.selectedPrice)}),s=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),o=await a.wait();o.status===1?(this.toast.dismiss(s),this.toast("You have successfully bought the domain!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),this.fetchTlds(),String(n).toLowerCase()===String(this.address).toLowerCase()&&this.addDomainManually(e),this.waitingFree=!1):(this.toast.dismiss(s),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),console.log(o),this.waitingFree=!1)}catch(i){console.log(i),this.waitingFree=!1,this.toast(i.message,{type:p.ERROR})}this.waitingFree=!1},parseValue(e){if(e)return Q(e)},setContract(){let e=this.getTldAddresses;if(e&&JSON.stringify(e)!="{}"){const n=e["."+this.tld],i=new b(this.getTldAbi);this.tldContract=new f(n,i,this.signer)}},async togglePublicSale(){if(this.waitingSale=!0,this.tldContract||this.setContract(),this.tldContract){try{const e=await this.tldContract.toggleBuyingDomains(),n=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),i=await e.wait();i.status===1?(this.toast.dismiss(n),this.toast("You have successfully changed the buying domains status from "+this.canBuy+" to "+!this.canBuy+"!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),this.canBuy=!this.canBuy,this.waitingSale=!1):(this.toast.dismiss(n),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),console.log(i),this.waitingSale=!1)}catch(e){console.log(e),this.waitingSale=!1,this.toast(e.message,{type:p.ERROR})}this.waitingSale=!1}}}),setup(){const{address:e,chainId:n,isActivated:i,signer:a}=A(),s=F(),{buyNotValid:o}=ae();return{address:e,buyNotValid:o,chainId:n,isActivated:i,displayEther:ce,signer:a,toast:s}},watch:{isActivated(){this.fetchData()},getDomainPrices(e,n){e&&this.fetchData()},tld(){this.isActivated&&(this.setContract(),this.fetchData())}}},me=e=>(D("data-v-00a8b7ce"),e=e(),x(),e),Yd={class:"container text-center"},Gd={class:"mt-5"},Xd={class:"d-flex justify-content-center domain-input-container"},zd={class:"input-group mb-3 domain-input input-group-lg"},Qd={class:"input-group-text tld-addon"},Zd={key:0,class:"error"},ec={class:"mt-4"},tc=["disabled"],nc={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},sc={key:1},ac={key:2},ic={key:0,class:"container text-center mt-3"},oc=me(()=>t("h2",{class:"mt-1"},"Start/stop domain sale (only owner)",-1)),rc=me(()=>t("p",{class:"mt-5"}," TLD owner can start/stop public domain sale. If the sale is stopped, only owner can mint new domains (for free, see section below). ",-1)),lc={key:0,class:"mt-3"},dc={key:1,class:"mt-3"},cc=["disabled"],uc={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},pc={key:1},mc={key:2},hc={key:1,class:"container text-center mt-3"},yc=me(()=>t("h2",{class:"mt-1"},"Mint domain for a specific address",-1)),fc=me(()=>t("p",{class:"mt-5"},"Choose domain and the address that will own that domain:",-1)),bc={class:"d-flex justify-content-center"},gc={class:"input-group mb-3 domain-input input-group-lg"},_c={class:"input-group-text tld-addon"},wc={class:"d-flex justify-content-center"},vc={class:"input-group mb-3 domain-input input-group-lg"},kc={key:0,class:"error"},Tc=["disabled"],Cc={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Dc=h(" Mint domain for address ");function xc(e,n,i,a,s,o){return l(),d(M,null,[t("div",Yd,[t("h1",Gd,"Get a ."+m(i.tld)+" domain!",1),t("div",Xd,[t("div",zd,[S(t("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>s.chosenDomainName=r),placeholder:"enter domain name",type:"text",class:"form-control text-end","aria-label":"Text input with dropdown button"},null,512),[[E,s.chosenDomainName]]),t("span",Qd,"."+m(i.tld),1)])]),a.buyNotValid(s.chosenDomainName).invalid?(l(),d("p",Zd,[t("small",null,[t("em",null,m(a.buyNotValid(s.chosenDomainName).message),1)])])):u("",!0),t("p",ec," Domain price: "+m(this.parseValue(this.selectedPrice))+" "+m(e.getNetworkCurrency),1),t("button",{class:"btn btn-primary btn-lg mt-3 buy-button",onClick:n[1]||(n[1]=(...r)=>o.buyDomain&&o.buyDomain(...r)),disabled:s.waiting||a.buyNotValid(s.chosenDomainName).invalid||!s.canBuy},[s.waiting?(l(),d("span",nc)):u("",!0),s.canBuy?(l(),d("span",sc,"Buy domain")):u("",!0),s.canBuy?u("",!0):(l(),d("span",ac,"Buying disabled"))],8,tc)]),s.tldOwner==a.address?(l(),d("div",ic,[oc,rc,s.canBuy?(l(),d("p",lc,"Status: public sale is ENABLED.")):u("",!0),s.canBuy?u("",!0):(l(),d("p",dc,"Status: public sale is DISABLED.")),t("button",{class:"btn btn-primary btn-lg mt-3 buy-button",onClick:n[2]||(n[2]=(...r)=>o.togglePublicSale&&o.togglePublicSale(...r)),disabled:s.waitingSale},[s.waitingSale?(l(),d("span",uc)):u("",!0),s.canBuy?(l(),d("span",pc,"Stop the public sale")):u("",!0),s.canBuy?u("",!0):(l(),d("span",mc,"Enable the public sale"))],8,cc)])):u("",!0),s.tldOwner==a.address?(l(),d("div",hc,[yc,fc,t("div",bc,[t("div",gc,[S(t("input",{"onUpdate:modelValue":n[3]||(n[3]=r=>s.chosenDomainNameFree=r),placeholder:"enter domain name",type:"text",class:"form-control text-end","aria-label":"Text input with dropdown button"},null,512),[[E,s.chosenDomainNameFree]]),t("span",_c,"."+m(i.tld),1)])]),t("div",wc,[t("div",vc,[S(t("input",{"onUpdate:modelValue":n[4]||(n[4]=r=>s.freeDomainReceiver=r),placeholder:"enter recipient address",type:"text",class:"form-control text-center","aria-label":"Text input with dropdown button"},null,512),[[E,s.freeDomainReceiver]])])]),a.buyNotValid(s.chosenDomainName).invalid?(l(),d("p",kc,[t("small",null,[t("em",null,m(a.buyNotValid(s.chosenDomainName).message),1)])])):u("",!0),t("button",{class:"btn btn-primary btn-lg mt-3 buy-button",onClick:n[5]||(n[5]=(...r)=>o.ownerMintDomain&&o.ownerMintDomain(...r)),disabled:s.waitingFree||a.buyNotValid(s.chosenDomainNameFree).invalid},[s.waitingFree?(l(),d("span",Cc)):u("",!0),Dc],8,Tc)])):u("",!0)],64)}var Ac=k(Jd,[["render",xc],["__scopeId","data-v-00a8b7ce"]]);const Nc={name:"MyTlds",data(){return{ownedTlds:null}},created(){this.checkTldOwnership()},computed:y(y({},g("network",["getChainId"])),g("punk",["getTlds","getTldAddresses","getTldAbi"])),methods:{async checkTldOwnership(){if(this.ownedTlds=[],this.getTlds)for(let e of this.getTlds){const n=new b(this.getTldAbi),a=await new f(this.getTldAddresses[e],n,this.signer).owner();String(a).toLowerCase()===String(this.address).toLowerCase()&&this.ownedTlds.push(e)}}},setup(){const{address:e,isActivated:n,signer:i}=A();return{address:e,isActivated:n,signer:i}}},Bc=e=>(D("data-v-0c52ef8f"),e=e(),x(),e),Sc={class:"row"},Ec={class:"col-md-12"},Ic={class:"container"},Mc=Bc(()=>t("h3",null,"My TLDs",-1)),Fc={class:"table table-hover mt-4 mb-4"},Uc=["onClick"];function Pc(e,n,i,a,s,o){return l(),d("div",Sc,[t("div",Ec,[t("div",Ic,[Mc,t("table",Fc,[t("tbody",null,[(l(!0),d(M,null,j(s.ownedTlds,r=>(l(),d("tr",null,[t("td",null,[t("span",{class:"text-white text-click",onClick:c=>this.$router.push({name:"TldDetails",params:{domainChain:e.getChainId,tld:r.substring(1)}})},m(r),9,Uc)])]))),256))])])])])])}var Rc=k(Nc,[["render",Pc],["__scopeId","data-v-0c52ef8f"]]);const $c={name:"Tlds",components:{MyTlds:Rc,Sidebar:ee}},Oc={class:"row"},Lc={class:"col-md-3",id:"sidebar-container"},Hc={class:"col-md-9"};function Vc(e,n,i,a,s,o){const r=C("Sidebar"),c=C("MyTlds");return l(),d("div",Oc,[t("div",Lc,[_(r)]),t("div",Hc,[_(c)])])}var Wc=k($c,[["render",Vc]]);const jc={name:"TransferDomain",props:["tld","domainName"],components:{Sidebar:ee},data(){return{recipient:null,recipientDomain:null,selectedDomain:this.domainName+"."+this.tld,waiting:!1}},computed:y(y({},g("network",["getBlockExplorerBaseUrl","getFallbackProvider"])),g("user",["getUserSelectedName"])),methods:v(y({},z("user",["removeDomainFromUserDomains"])),{async transfer(){this.waiting=!0;const e=new b(V);if(this.recipient&&this.recipient.split(".").length===2){const n=this.recipient.split(".");for(let i in P)if(P[i]["."+n[1]]){const a=this.getFallbackProvider(Number(i)),o=await new f(P[i]["."+n[1]],e,a).getDomainHolder(n[0]);o!==N?(this.recipientDomain=this.recipient,this.recipient=o):(this.toast("The recipient's domain name "+this.recipient+" does not exist.",{type:p.ERROR}),this.waiting=!1);break}$(this.recipient)||(this.toast("Top-level domain ."+n[1]+" does not exist (if this is a mistake, contact us on Discord).",{type:p.ERROR}),this.waiting=!1)}else this.recipient?$(this.recipient)||(this.toast("This is not a valid recipient address.",{type:p.ERROR}),this.waiting=!1):(this.toast("This is not a valid recipient address or domain name.",{type:p.ERROR}),this.waiting=!1);if(this.recipient&&$(this.recipient)){const n=new f(P[this.chainId]["."+this.tld],e,this.signer),i=await n.domains(this.domainName);try{const a=await n.transferFrom(this.address,this.recipient,i.tokenId.toNumber());if(a){const s=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:p.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),o=await a.wait();o.status===1?(this.toast.dismiss(s),this.toast("You have successfully transferred the domain!",{type:p.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),this.removeDomainFromUserDomains(this.domainName+"."+this.tld),this.waiting=!1):(this.toast.dismiss(s),this.toast("Transaction has failed.",{type:p.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),console.log(o),this.waiting=!1)}}catch(a){console.log(a),this.waiting=!1,this.toast(a.message,{type:p.ERROR})}}}}),setup(){const{address:e,chainId:n,signer:i}=A(),a=F();return{address:e,chainId:n,signer:i,toast:a}}},Kc={class:"row"},qc={class:"col-md-3",id:"sidebar-container"},Jc={class:"col-md-9"},Yc={class:"row"},Gc={class:"col-md-12"},Xc={class:"container text-center"},zc=t("h3",null,"Transfer domain",-1),Qc={class:"row mt-5"},Zc={class:"col-md-6 offset-md-3"},eu=["value"],tu={class:"row mt-3"},nu={class:"col-md-6 offset-md-3"},su=["disabled"],au={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},iu=h(" Transfer ");function ou(e,n,i,a,s,o){const r=C("Sidebar");return l(),d("div",Kc,[t("div",qc,[_(r)]),t("div",Jc,[t("div",Yc,[t("div",Gc,[t("div",Xc,[zc,t("div",Qc,[t("div",Zc,[t("input",{value:i.domainName+"."+i.tld,class:"form-control text-center",readonly:""},null,8,eu)])]),t("div",tu,[t("div",nu,[S(t("input",{"onUpdate:modelValue":n[0]||(n[0]=c=>s.recipient=c),class:"form-control text-center",placeholder:"Enter recipient address"},null,512),[[E,s.recipient]])])]),t("button",{class:"btn btn-primary mt-3 mb-5",onClick:n[1]||(n[1]=(...c)=>o.transfer&&o.transfer(...c)),disabled:s.waiting},[s.waiting?(l(),d("span",au)):u("",!0),iu],8,su)])])])])])}var ru=k(jc,[["render",ou]]);const lu=[{path:"/",name:"Home",component:ja},{path:"/about",name:"About",component:yn},{path:"/browser",name:"BrowserExtension",component:Vn},{path:"/domain/:domainChain/:tld/:domainName",name:"DomainDetails",component:va,props:!0},{path:"/how",name:"HowItWorks",component:Qa},{path:"/nft/angel",name:"PunkAngelNft",component:ul},{path:"/partners/l2dao",name:"L2Dao",component:Ei,props:!0},{path:"/partners/huwa",name:"Huwa",component:vo,props:!0},{path:"/partners/udpolygon",name:"UnstoppablePolygonRefund",component:$o},{path:"/partners/wildbunch",name:"WildBunch",component:lr,props:!0},{path:"/profile",name:"Profile",component:nl},{path:"/search-domain",name:"SearchDomains",component:Al},{path:"/send-tokens",name:"SendTokens",component:Sd},{path:"/transfer/:tld/:domainName",name:"TransferDomain",component:ru,props:!0},{path:"/buy-tld",name:"TldBuy",component:qd,props:!0},{path:"/tld/:domainChain/:tld",name:"TldDetails",component:Ac,props:!0},{path:"/tlds/",name:"Tlds",component:Wc},{path:"/:pathMatch(.*)*",name:"404",component:()=>nn(()=>import("./Error404.edeee0df.js"),["assets/Error404.edeee0df.js","assets/Error404.1e32740a.css","assets/vendor.81a4917a.js"])}],du=ze({history:Qe(),routes:lu});var cu={"3":{ETH:"0x0"},"10":{ETH:"0x0",USDC:"0x7F5c764cBc14f9669B88837ca1490cCa17c31607",USDT:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",DAI:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",sUSD:"0x8c6f28f2F1A3C87F0f938b96d27520d9751ec8d9",SNX:"0x8700dAec35aF8Ff88c16BdF0418774CB3D7599B4"},"56":{BNB:"0x0",ETH:"0x2170ed0880ac9a755fd29b2688956bd959f933f8",USDC:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",WBNB:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",BUSD:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",HUWA:"0x03a2A7E95eCe3112b8d33F9bCC21F0c9BA843e35"},"69":{ETH:"0x0",AAVE:"0x1D882E64bb7f4D49e67018d81254236A2A6465a3",DAI:"0x7e8aB50697C7Abe63Bdab6B155C2FB8D285458cB"},"77":{SPOA:"0x0"},"100":{XDAI:"0x0",USDC:"0xDDAfbb505ad214D7b80b1f830fcCc89B60fb7A83",GNO:"0x9C58BAcC331c9aa871AFD802DB6379a98e80CEdb",ETH:"0x6A023CCd1ff6F2045C3309768eAd9E68F978f6e1",STAKE:"0xb7D311E2Eb55F2f68a9440da38e7989210b9A05e",USDT:"0x4ECaBa5870353805a9F068101A40E0f32ed605C6",AAVE:"0xDF613aF6B44a31299E48131e9347F034347E2F00"},"137":{MATIC:"0x0",ETH:"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",DAI:"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",USDC:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"},"42161":{ETH:"0x0",USDT:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",USDC:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",WBTC:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",DAI:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",LINK:"0xf97f4df75117a78c1A5a0DBb814Af92458539FB4",UNI:"0xFa7F8980b0f1E64A2062791cc3b0871572f1F7f0"},"80001":{MATIC:"0x0",AAVE:"0x2b03FB8443A3a338f772C1EE29ACB4AeaA0Bc2ab",DAI:"0xFeBBF3F530A4fB3F0FBBAb9Ce72E4988972f2a08"},"421611":{ETH:"0x0"}};const{chainId:T}=A();var uu={namespaced:!0,state:()=>({networkCurrency:"ETH",networkName:"Unsupported Network",supportedNetworks:{10:"Optimism",100:"Gnosis Chain",137:"Polygon",42161:"Arbitrum",56:"BNB Smart Chain"}}),getters:{getBlockExplorerBaseUrl(){if(T.value===3)return"https://ropsten.etherscan.io";if(T.value===4)return"https://rinkeby.etherscan.io";if(T.value===10)return"https://optimistic.etherscan.io";if(T.value===56)return"https://bscscan.com";if(T.value===69)return"https://kovan-optimistic.etherscan.io";if(T.value===77)return"https://blockscout.com/poa/sokol";if(T.value===100)return"https://blockscout.com/xdai/mainnet";if(T.value===137)return"https://polygonscan.com";if(T.value===42161)return"https://arbiscan.io";if(T.value===80001)return"https://mumbai.polygonscan.com";if(T.value===421611)return"https://testnet.arbiscan.io"},getChainId(){return T.value},getFallbackProvider:e=>n=>{let i;if(n===3||n===4||(n===10?i=["https://mainnet.optimism.io","https://opt-mainnet.g.alchemy.com/v2/yHb9HMMjGXFe6_-qyc9vwjtq1cT3cSBJ"]:n===56?i=["https://bscrpc.com"]:n===69?i=["https://kovan.optimism.io"]:n===77?i=["https://sokol.poa.network"]:n===100?i=["https://rpc.xdaichain.com","https://rpc.gnosischain.com"]:n===137?i=["https://polygon-rpc.com/","https://polygon-mainnet.g.alchemy.com/v2/MhHJRrodOACSzXhOCCei7bKleeViZXIp"]:n===42161?i=["https://arb1.arbitrum.io/rpc","https://arb-mainnet.g.alchemy.com/v2/F71PRwNWe-1Vt7MLTGosC7Y8qp0gVQPy"]:n===80001?i=["https://matic-mumbai.chainstacklabs.com","https://polygon-mumbai.g.alchemy.com/v2/SFqYWETLRGd5CmreGkLH8XQNlnSmei0B"]:n===421611&&(i=["https://rinkeby.arbitrum.io/rpc"])),i){const a=i.map(s=>new Te(s));return new Ce(a,1)}else return null},getNetworkCurrency(e){return e.networkCurrency},getNetworkName(e){const n=Object.keys(e.supportedNetworks);return n&&n.includes(String(T.value))?e.networkName:"Unsupported Network"},getSupportedNetworks(e){return e.supportedNetworks},getSupportedNetworkIds(e){return Object.keys(e.supportedNetworks)},getSupportedNetworkNames(e){return Object.values(e.supportedNetworks)},getTokens(e){return cu[String(T.value)]},isNetworkSupported(e){const n=Object.keys(e.supportedNetworks);return!!(n&&n.includes(String(T.value)))}},mutations:{setNetworkData(e){T.value===137?(e.networkName="Polygon",e.networkCurrency="MATIC"):T.value===10?(e.networkName="Optimism",e.networkCurrency="ETH"):T.value===56?(e.networkName="BNB Smart Chain",e.networkCurrency="BNB"):T.value===69?(e.networkName="Optimism Testnet",e.networkCurrency="ETH"):T.value===77?(e.networkName="Gnosis Testnet",e.networkCurrency="SPOA"):T.value===100?(e.networkName="Gnosis Chain",e.networkCurrency="XDAI"):T.value===137?(e.networkName="Polygon",e.networkCurrency="MATIC"):T.value===42161?(e.networkName="Arbitrum",e.networkCurrency="ETH"):T.value===421611?(e.networkName="Arbitrum Testnet",e.networkCurrency="ETH"):T.value===80001?(e.networkName="Polygon Testnet",e.networkCurrency="MATIC"):T.value===3?(e.networkName="Ropsten",e.networkCurrency="ETH"):T.value===4?(e.networkName="Rinkeby",e.networkCurrency="ETH"):(e.networkName="Unsupported Network",e.networkCurrency="ETH")}},actions:{}};const{getFallbackProvider:pu}=q(),{address:W,balance:Le,chainId:L,signer:He}=A();var mu={namespaced:!0,state:()=>({selectedName:null,selectedNameData:null,selectedNameImageSvg:null,selectedNameKey:null,userAddress:null,userAllDomainNames:[],userDomainNamesKey:null,userShortAddress:null,userBalanceWei:0,userBalance:0}),getters:{getUserAddress(e){return e.userAddress},getUserBalance(e){return e.userBalance},getUserBalanceWei(e){return e.userBalanceWei},getUserAllDomainNames(e){return e.userAllDomainNames},getUserSelectedName(e){return e.selectedName},getUserSelectedNameData(e){return e.selectedNameData},getUserSelectedNameImageSvg(e){return e.selectedNameImageSvg},getUserShortAddress(e){return e.userShortAddress}},mutations:{addDomainManually(e,n){let i=[];if(L.value){this.userDomainNamesKey="userDomainNames"+String(L.value)+String(K(W.value)),this.selectedNameKey="selectedName"+String(L.value)+String(K(W.value)),localStorage.getItem(this.userDomainNamesKey)&&(i=JSON.parse(localStorage.getItem(this.userDomainNamesKey))),i.includes(n)||i.push(n);for(let a of i)e.userAllDomainNames.includes(a)||e.userAllDomainNames.push(a);localStorage.setItem(this.userDomainNamesKey,JSON.stringify(i))}},setUserData(e){e.userAddress=W.value,e.userShortAddress=K(W.value),e.userBalanceWei=Le.value,e.userBalance=ce(Le.value)},setDefaultName(e,n){e.userAllDomainNames.includes(n)||e.userAllDomainNames.push(n)},setSelectedName(e,n){e.selectedName=n,localStorage.setItem(this.selectedNameKey,e.selectedName),localStorage.setItem("connected","metamask")},setSelectedNameData(e,n){e.selectedNameData=n},setSelectedNameImageSvg(e,n){e.selectedNameImageSvg=n},setUserAllDomainNames(e,n){e.userAllDomainNames=n}},actions:{async fetchUserDomainNames({dispatch:e,commit:n,state:i,rootState:a,rootGetters:s},o){let r=[];L.value&&(this.userDomainNamesKey="userDomainNames"+String(L.value)+String(K(W.value)),this.selectedNameKey="selectedName"+String(L.value)+String(K(W.value))),o&&(localStorage.getItem(this.selectedNameKey)&&localStorage.getItem(this.selectedNameKey)!==String(null)?n("setSelectedName",localStorage.getItem(this.selectedNameKey)):(n("setSelectedName",null),n("setSelectedNameData",null),n("setSelectedNameImageSvg",null)),n("setUserAllDomainNames",[])),localStorage.getItem(this.userDomainNamesKey)&&(r=JSON.parse(localStorage.getItem(this.userDomainNamesKey)));for(let c of r)n("setDefaultName",c);for(let c of a.punk.tlds){const w=new b(s["punk/getTldAbi"]),I=await new f(a.punk.tldAddresses[c],w,He.value).defaultNames(W.value);I&&(n("setDefaultName",I+c),r.includes(I+c)||r.push(I+c),i.selectedName||n("setSelectedName",I+c))}localStorage.getItem(this.selectedNameKey)&&localStorage.getItem(this.selectedNameKey)!==String(null)?n("setSelectedName",localStorage.getItem(this.selectedNameKey)):localStorage.setItem(this.selectedNameKey,i.selectedName),localStorage.setItem(this.userDomainNamesKey,JSON.stringify(r)),e("fetchSelectedNameData")},async fetchSelectedNameData({commit:e,state:n,rootState:i,rootGetters:a}){if(n.selectedName){const s=n.selectedName.split("."),o=s[0],r="."+s[1];if(o&&i.punk.tldAddresses[r]){const c=new b(a["punk/getTldAbi"]),w=new f(i.punk.tldAddresses[r],c,He.value),R=await w.domains(o);e("setSelectedNameData",R);let I=await w.tokenURI(R.tokenId),he=!1;if(R.data){const O=JSON.parse(R.data);if(O.imgAddress&&!O.imgAddress.startsWith("0x"))e("setSelectedNameImageSvg",O.imgAddress.replace("ipfs://","https://ipfs.io/ipfs/")),he=!0;else if(O.imgAddress){const te=new b(["function tokenURI(uint256 tokenId) public view returns (string memory)"]);let ne=L.value;O.imgChainId&&(ne=O.imgChainId);try{const We=pu(Number(ne));I=await new f(O.imgAddress,te,We).tokenURI(O.imgTokenId)}catch{}}if(I.includes("ipfs://")&&(I=I.replace("ipfs://","https://ipfs.io/ipfs/")),I.includes("http")){const ne=await(await fetch(I)).json();ne&&ne.image?(e("setSelectedNameImageSvg",ne.image.replace("ipfs://","https://ipfs.io/ipfs/")),he=!0):e("setSelectedNameImageSvg",null)}}if(I&&!he){const O=atob(I.substring(29)),te=JSON.parse(O);te&&te.image?e("setSelectedNameImageSvg",te.image):e("setSelectedNameImageSvg",null)}}}},async removeDomainFromUserDomains({commit:e,state:n},i){if(L.value&&(this.userDomainNamesKey="userDomainNames"+String(L.value)+String(K(W.value)),this.selectedNameKey="selectedName"+String(L.value)+String(K(W.value)),localStorage.getItem(this.userDomainNamesKey))){const a=JSON.parse(localStorage.getItem(this.userDomainNamesKey));n.userAllDomainNames=[];let s=[];for(let o of a)o!=i&&(s.push(o),n.userAllDomainNames.push(o));localStorage.setItem(this.userDomainNamesKey,JSON.stringify(s)),localStorage.getItem(this.selectedNameKey)&&localStorage.getItem(this.selectedNameKey)==i&&(s.length>0&&e("setSelectedName",s[0]),e("setSelectedName",null))}}}},hu=[{inputs:[{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"address",name:"_forbiddenTlds",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"string",name:"tldName",type:"string"},{indexed:!1,internalType:"address",name:"tldAddress",type:"address"}],name:"TldCreated",type:"event"},{inputs:[],name:"buyingEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_forbiddenTlds",type:"address"}],name:"changeForbiddenTldsAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxLength",type:"uint256"}],name:"changeNameMaxLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newProjectDescription",type:"string"}],name:"changeProjectDescription",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newProjectName",type:"string"}],name:"changeProjectName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royalty",type:"uint256"}],name:"changeRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_tldOwner",type:"address"},{internalType:"uint256",name:"_domainPrice",type:"uint256"},{internalType:"bool",name:"_buyingEnabled",type:"bool"}],name:"createTld",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[],name:"forbiddenTlds",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTldsArray",outputs:[{internalType:"string[]",name:"",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"nameMaxLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_tldOwner",type:"address"},{internalType:"uint256",name:"_domainPrice",type:"uint256"},{internalType:"bool",name:"_buyingEnabled",type:"bool"}],name:"ownerCreateTld",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"projectDescription",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"projectName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"tldNamesAddresses",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tlds",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"toggleBuyingTlds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];const{chainId:Ve,signer:yu}=A();var fu={namespaced:!0,state:()=>({domainPrices:null,factoryAddress:null,tlds:[],tldsKey:null,tldAddresses:{},tldAddressesKey:null}),getters:{getDomainPrices(e){return e.domainPrices},getTlds(e){return e.tlds},getTldAddresses(e){return e.tldAddresses},getTldAddressesKey(e){return e.tldAddressesKey},getTldAbi(){return V},getFactoryAbi(){return hu}},actions:{async fetchTlds({dispatch:e,commit:n,state:i,getters:a}){let s=137;Ve.value&&(s=Ve.value),i.tlds=[];for(let o of Object.keys(P[s])){i.tlds.push(o),i.tldAddresses[o]=P[s][o];const r=new b(a.getTldAbi),w=await new f(P[s][o],r,yu.value).price();i.domainPrices||(i.domainPrices={}),i.domainPrices[o]=w}e("user/fetchUserDomainNames",null,{root:!0})}}};const bu=Ze({modules:{network:uu,user:mu,punk:fu}});const le=et(Zt),gu={timeout:5e3,hideProgressBar:!0,closeButton:"button",position:tt.TOP_LEFT,toastClassName:"punk-toast-class",closeOnClick:!1,toastDefaults:{[p.INFO]:{timeout:!1,icon:!1}}};le.use(du);le.use(bu);le.use(nt,{});le.use(st,gu);le.mount("#app");export{k as _};
